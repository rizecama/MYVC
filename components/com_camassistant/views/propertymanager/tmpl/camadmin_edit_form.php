<?php
/**
 * @version		1.0.0 camassistant $
 * @package		camassistant
 * @copyright	Copyright Â© 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author		
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');
// Your custom code here
//echo "<pre>"; print_r($this->details);
$phone = explode('-',$this->details->phone);  
$cellphone = explode('-',$this->details->cellphone);
$Itemid = JRequest::getVar("Itemid",0);
$pmanager_id = JRequest::getVar("pmanager_id",0);
?>

<script language="javascript" type="text/javascript">
function validate1(){
 var frm = document.reg_form2;
/* if(frm.comp_name.value == '')
 {
 alert('Please enter company name');
 frm.comp_name.focus();
 return;
 } else if(frm.mailaddress.value == '')
 {
 alert('Please enter your company mail address');
 frm.mailaddress.focus();
 return;
 } else if(frm.city.value == '')
 {
 alert('Please enter your city');
 frm.city.focus();
 return;
 } else if(frm.state.value == '')
 {
 alert('Please enter your state');
 frm.state.focus();
 return;
 } else if(frm.zipcode.value == '')
 {
 alert('Please enter your zipcode');
 frm.zipcode.focus();
 return;
 } else if(frm.cphone.value == '')
 {
 alert('Please enter your company phone number');
 frm.cphone.focus();
 return;
 } else if(frm.email.value == '')
 {
 alert('Please enter your email ID');
 frm.email.focus();
 return;
 }

 else if(frm.password.value == '')
 {
 alert('Please enter password');
 frm.password.focus();
 return;
 }
 else if(frm.password2.value == '')
 {
 alert('Please re-enter password');
 frm.password2.focus();
 return;
 }
 else if(frm.password.value != frm.password2.value)
 {
 alert('Incorrect passwords');
 frm.password2.value = '';
 frm.password2.focus();
 return;
 }
 else if(frm.fname.value == '')
 {
 alert('Please enter your first name');
 frm.fname.focus();
 return;
 }
 else if(frm.lname.value == '')
 {
 alert('Please enter your Last name');
 frm.lname.focus();
 return;
 }
 else if(frm.phone1.value == '000' || frm.phone2.value == '000' || frm.phone3.value == '0000')
 {
     alert('Please enter alternate phone number');
     if(frm.phone1.value == '000')
	 {
	 frm.phone1.value = '';
	 frm.phone1.focus();
	 return;
	 }
	 else if(frm.phone2.value == '000')
	 {
	 frm.phone2.value = '';
	 frm.phone2.focus();
	 return;
	 }
	 else if(frm.phone3.value == '0000')
	 {
	 frm.phone3.value = '';
	 frm.phone3.focus();
	 return;
	 }
 }

	 else {*/

   frm.submit();
/* }*/
}
function moveOnMax(field,nextFieldID){
  if(field.value.length >= field.maxLength){
    document.getElementById(nextFieldID).focus();
  }
}

</script>

<div id="container_inner" >

	<div id="vender_right">
	
	<!-- sof bedcrumb -->
	
	<div id="bedcrumb">

		<ul>
	
		<li class="home"><a href="index.php">Home</a> </li>
	
		<li><a href="index.php?option=com_camassistant&controller=propertymanager&task=company_edit_form&Itemid=87">Firm Admin Home</a> </li>
	
		<?php if($pmanager_id) { $pmName='Property Manager';?>
	
		<li><a href="index.php?option=com_camassistant&controller=propertymanager&task=manage_properties&Itemid=<?php echo $Itemid;?>">My Managers & Properties</a></li>
	
		<li>Property Manager Edit Form</li>
	
		<?php } else { $pmName='Admin';?>
	
		<li>My Firm Admin Info</li>
	
		<?php } ?>
	
		</ul>
	
	</div>
<!-- eof bedcrumb -->

<!-- sof dotshead -->
<div id="dotshead_blue"> MY FIRM  <?php echo ucwords($pmName);?> INFO</div>
<!-- eof dotshead -->

<div id="i_bar">
<div id="i_bar_txt">
<span>FIRM ADMINISTRATOR  </span>
</div>
<div id="i_icon"><a href="#"><img src="images/info_icon2.png" alt="info" /></a></div>
</div>

<!--<h3> Update your Admin Info</h3>-->
<!-- sof table pan -->
<div class="table_pannel">


<div class="head_greenbg2">UPDATE YOUR ADMIN INFO</div>

  <div id="signup-form">
  
  <div class="signup" style=" width:400px;">
	
	<br />
	
	<form enctype="multipart/form-data" action="" method="post" name="reg_form2" >
	
		<table width="350" border="0" cellspacing="0">
		<!--<tr>
			
			<td width="100" height="35" align="left" valign="middle">
				Salutation:
			</td>
			
			<td width="200" align="left" valign="middle"> 
			
				<select name="salutation" style="width:282px;">
					<option <?PHP //if($this->details->salutation == 'Mr.'){?> selected="selected" <?PHP //} ?>>Mr.</option>
					<option <?PHP //if($this->details->salutation == 'Mrs.') {?> selected="selected" <?PHP //} ?>>Mrs.</option>
					<option <?PHP //if($this->details->salutation == 'Ms.') { ?> selected="selected" <?PHP //} ?>>Ms.</option>
				</select>	
			
			</td>
		</tr>-->
		
		<tr>
		
			<td height="35" align="left" valign="middle">
			
				Name:
			
			</td>
			
			<td align="left" valign="middle">
			
			 <input name="fname" type="text" style="width:123px;" value="<?php echo $this->details->name; ?>"  class="inputbox required validate-fname"/>
			 
			<!-- <input name="" type="text" style="width:120px;" value="Jane"/> -->
		
			<input name="lname" type="text" style="width:127px;margin-left:10px;" value="<?php echo $this->details->lastname; ?>" class="inputbox required validate-lname"/>
			
			<!-- <input name="input2" type="text" style="width:120px; margin-left:10px" value="Smith"/></td>-->

		</tr>
		
		<tr>
		
			<td height="35" align="left" valign="middle">
				
				Phone#:
			
			</td>
			
			<td align="left" valign="middle">
			
				<span class="form_braket">(</span>
			
				 <input id="phone1" name="phone1" type="text" style="width:30px; text-align: center" value="<?PHP echo $phone[0]; ?>" class="inputbox required validate-phone" maxlength="3" onkeyup="moveOnMax(this,'phone2')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number');"/>
				 
				 <span class="form_braket">)</span>
			
				 <input id="phone2" name="phone2" type="text" style="width:30px; text-align: center" value="<?PHP echo $phone[1]; ?>" maxlength="3" onkeyup="moveOnMax(this,'phone3')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number');"/> - 
			
				 <input id="phone3" name="phone3" type="text" style="width:45px; text-align: center" value="<?PHP echo $phone[2]; ?>" maxlength="4" onkeyup="moveOnMax(this,'ext')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number');"/>
				
				<p style=" float:right;">
				
					Ext: 
					
					<input id="ext" name="ext" type="text" style="width:55px;" value="<?php echo $this->details->extension; ?>" maxlength="4" />
					
				</p> 
				
			</td>
			
		</tr>
		
		<tr>
		
			<td height="35" align="left" valign="middle">
			
			Cell#:
			
			</td>
			
			<td align="left" valign="middle">
			
				<span class="form_braket">(</span>
				<!--  <input name="" type="text" style="width:30px;" value="123"/><span class="form_braket">)</span>
				<input name="" type="text" style="width:30px;" value="123"/> - 
				<input name="" type="text" style="width:45px; text-align: center" value="4567" onclick="this.value=''"/>-->
		
				<input id="cphone1" name="cphone1" type="text" style="width:30px; text-align: center" value="<?PHP echo $cellphone[0]; ?>" maxlength="3" onkeyup="moveOnMax(this,'cphone2')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number');"/ >
				
				<span class="form_braket">)</span>
				
		 		<input id="cphone2" name="cphone2" type="text" style="width:30px; text-align: center" value="<?PHP echo $cellphone[1]; ?>" maxlength="3" onkeyup="moveOnMax(this,'cphone3')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number');"/> - 
				
		 		<input id="cphone3" name="cphone3" type="text" style="width:45px; text-align: center" value="<?PHP echo $cellphone[2]; ?>" maxlength="4" onkeyup="moveOnMax(this,'cphone1')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number');"/>
				
			</td>
			
		</tr>
		
		</table>
		
	</div>
  
  	<div class="signup" style=" width:400px; padding-top:5px;">
	
		Email Address (username) :
		
		<input name="email" type="text" style="width:183px;" class="inputbox required validate-email" value="<?php echo $this->details->email; ?>" />
		<!--<input name="input3" type="text" style="width:183px;" value="jsmith@mgmtfirm.com"/>-->

	</div>

	<div class="signup">

		<label>Set new password: </label>
		
		<input name="password" type="password" style="width:275px;"/>
		
	
	</div>

	<div class="signup">

		<label>Re-enter password: </label>
		
		<input name="password2" type="password" style="width:275px;" value="<?php //echo $this->details->password2; ?>" />
		
		<!--<input name="" type="password" style="width:140px;" value="******"/>-->

	</div>
	
	<div class="clear"></div>

	<div class="clear"></div>
	
	
	<div class="clear"></div><br />
	
	<div id="topborder_row" align="right">
	
		<a href="#">
			
			<img src="templates/camassistant_left/images/discardchenges_red.gif" alt="discard changes" width="180" height="47" />
		
		</a>	
		
		<a href="#">
		
			<img src="templates/camassistant_left/images/savechenges.gif" alt="save changes"  onClick="validate1()" name="booknowbtn" />
		
		</a>
	
	</div>
	
	<div class="form_checkbox">

		<div class="check"></div>

			<div class="checktext">

				<!--<img src="templates/camassistant/images/save.png" name="booknowbtn"   onClick="validate1()"/>-->
	
				<input type="hidden" name="id" value="<?php echo $this->details->id;?>" />
	
				<input type="hidden" name="user_type" value="<?php echo $this->details->user_type; ?>" />
	<input type="hidden" name="rpassword" value="<?php echo $this->details->password; ?>" />
				<input type="hidden" name="option" value="com_camassistant" />
	
				<input type="hidden" name="controller" value="propertymanager" />
	
				<input type="hidden" name="task" value="save_edit_form" />
			
			</div>
			
			<div class="clear"></div>
		</div>
<div class="clear"></div>
</div>




</div>
<!-- eof table pan -->

</div>

	</form>
</div> 
<div class="clear"></div>
</div>