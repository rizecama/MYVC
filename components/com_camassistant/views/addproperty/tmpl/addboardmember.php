

<?php
/**
 * @version		1.0.0 camassistant $
 * @package		camassistant
 * @copyright	Copyright © 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author		
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');
// Your custom code here
 JHTML::_('behavior.modal');
?>

<link href="<?php echo Juri::base();?>templates/camassistant/css/style.css" rel="stylesheet"/>
<link href="<?php echo Juri::base();?>templates/camassistant_left/css/style.css" rel="stylesheet"/>
<link href="<?php echo Juri::base();?>templates/camassistant_left/css/popup.css" rel="stylesheet"/>
<script src="components/com_camassistant/assets/js/loading.js" type="text/javascript"></script>
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery-1.4.4.min.js"></script>
<script type="text/javascript">
G = jQuery.noConflict();
function verifyuser(){	

var frm = document.VendorForm2;
	inputString=G('#email').val();
	
		G.post("index2.php?option=com_camassistant&controller=boardmembers&task=verfiryuser", {queryString: ""+inputString+""}, function(data){
		//alert(data);
		if(data==''){
		G('#user_email').css('display','none');
		G('#user_email').val('');
		}else{
	    G('#user_email').css('display','block');
		G('#user_email').val('Already board member has been assigned to a property');
		 /*alert('Please enter your email ID');
 		frm.email.focus();
  		return ;*/
		}
		});
			
			
	}
function validate_data2()
{
 var frm = document.VendorForm2;

 /* if(frm.property_name.value == '')
 {
 alert('Please Select Property');
 frm.property_name.focus();
 return false;
 } else if(frm.property_name.value == 'Select Propety')
 {
 alert('Please Select Property');
 frm.property_name.focus();
 return false;
 } else*/ if(frm.firstname.value == '')
 {
 alert('Please enter your first name');
 frm.firstname.focus();
 return false;
 }  
 else if(frm.lastname.value == '')
 {
 alert('Please enter your last name');
 frm.lastname.focus();
 return false;
 } 
 else if(frm.email.value == '')
 {
 alert('Please enter your email ID');
 frm.email.focus();
 return false;
 }
 var mail=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;
 if(mail.test(frm.email.value)==false)
 {
 alert("Please enter the valid email");
frm.email.focus();
 return false;
 }  else if(frm.user_email.value != ''){
 alert(frm.user_email.value);
 frm.email.focus();
  return false;
 }
 else if(frm.phone_1.value == '' || frm.phone_2.value == '' || frm.phone_3.value == '')
 {
     alert('Please enter phone number');
     if(frm.phone_1.value == '')
	 {
	 frm.phone_1.value = '';
	 frm.phone_1.focus();
	 return false;
	 }
	 else if(frm.phone_2.value == '')
	 {
	 frm.phone_2.value = '';
	 frm.phone_2.focus();
	 return false;
	 }
	 else if(frm.phone_3.value == '')
	 {
	 frm.phone_3.value = '';
	 frm.phone_3.focus();
	 return false;
	 }
 }
	 
 return;
}
 function moveOnMax(field,nextFieldID){
  if(field.value.length >= field.maxLength){
    document.getElementById(nextFieldID).focus();
  }
}

</script> 

<div id="container_inner">
<div  style="margin-top:20px; margin-left:20px;">
<div class="head_greenbg2">ADD BOARD MEMBER</div>
<div class="clear"></div>
<form enctype="multipart/form-data" action="index.php?option=com_camassistant&amp;controller=addproperty&amp;Itemid=<?PHP echo $Itemid; ?>&amp;task=save_boardmember" method="post" name="VendorForm2" >
<div id="signup-form">

<div class="signup">
<label>Select Property:<span class="redstar">*</span> </label>
<span id="prop_list">
<?php //print_r($this->propertyList); ?>
<?php echo JHTML::_('select.genericlist', $this->propertyList, 'property_name',  'size="1" '.$disabled.' class="inputbox " ', 'value', 'text', $this->details->property_name);?>
</span>
</div>
<div class="signup">
<label>Board Position: <span>*</span></label>
<select name="board_position" style="width:282px;">
<option value="President" <?PHP if($this->details->board_position == 'President'){?> selected="selected" <?PHP } ?>>President</option>
<option value="Vice President" <?PHP if($this->details->board_position == 'Vice President') {?> selected="selected" <?PHP } ?>>Vice President</option>
<option value="Treasurer" <?PHP if($this->details->board_position == 'Treasurer') { ?> selected="selected" <?PHP } ?>>Treasurer</option>
<option value="Secretary" <?PHP if($this->details->board_position == 'Secretary') { ?> selected="selected" <?PHP } ?>>Secretary</option>
<option value="Director" <?PHP if($this->details->board_position == 'Director') { ?> selected="selected" <?PHP } ?>>Director</option>

</select>
</div>
<div class="signup">
<label>Salutation: <span>*</span></label>
<select name="salutation" style="width:282px;">
<option <?PHP if($this->details->salutation == 'Mr.'){?> selected="selected" <?PHP } ?>>Mr.</option>
<option <?PHP if($this->details->salutation == 'Mrs.') {?> selected="selected" <?PHP } ?>>Mrs.</option>
<option <?PHP if($this->details->salutation == 'Ms.') { ?> selected="selected" <?PHP } ?>>Ms.</option>
</select>
</div>

<div class="signup">
<div class="state">
<label>First Name: <span>*</span></label>
<input name="firstname" type="text" style="width:123px;" value="<?PHP echo $this->details->firstname?>"/>
</div>
<div class="zip">
<label>Last Name:<span>*</span></label>
<input name="lastname" type="text" style="width:127px;" value="<?PHP echo $this->details->lastname?>"/>
</div>
</div>
<div class="signup">
<label>Email: <span>*</span></label>
<input name="email" type="text" id="email" style="width:275px;" value="<?PHP echo $this->details->email?>" onkeydown="verifyuser();" onblur="verifyuser();"/>
<input style="color:#FF0000;display:none; background:#ffffff; border-color:#ffffff; padding-top:22px;" type="hidden" name="user_email" id="user_email" value="" readonly=""/>

</div>
<div class="signup">
<div class="cp">
<label>Phone #: <span>*</span></label>
(<input id="phone_1" name="phone_1" type="text" style="width:30px;" value="<?PHP echo $phone[0]; ?>" maxlength="3" onkeyup="moveOnMax(this,'phone_2')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number'); " />)
 <input id="phone_2" name="phone_2" type="text" style="width:30px;" value="<?PHP echo $phone[1]; ?>" maxlength="3"  onkeyup="moveOnMax(this,'phone_3')" onkeydown="if(isNaN(this.value)) alert('Please enter valid number'); "/> - 
 <input id="phone_3" name="phone_3" type="text" style="width:30px;" value="<?PHP echo $phone[2]; ?>" maxlength="4" onkeyup="moveOnMax(this,'')"  onkeydown="if(isNaN(this.value)) alert('Please enter valid number'); "/>
</div>

<div class="ext">
<label>Ext:</label>
<input name="extension" type="text" maxlength="4" style="width:82px;" value="<?PHP echo $this->details->extension ?>"  onkeydown="if(isNaN(this.value)) alert('Please enter valid number'); " /></div>
<div class="clear"></div>
</div>																			

<div class="signup">
<label>Automatically receives proposals via email ?: <span>*</span></label>
<input name="enablemail" type="radio" value="yes" <?PHP if($this->details->enablemail == 'yes') { ?> checked="checked" <?PHP } ?> />Yes <input name="enablemail" type="radio" <?PHP if($this->details->enablemail == 'No' || !(isset($this->details->enablemail)))  { ?> checked="checked" <?PHP } ?>  value="No"/> No
</div>

<div class="clear"></div>
<div class="form_checkbox">
<div class="check"></div>
<div class="checktext">
<input type="hidden" name="user_id" value="<?PHP  echo $this->user_id; ?>" />
<?php /*?><a href="index.php?option=com_camassistant&controller=boardmembers&task=listboardmembers&Itemid=151"><img src="templates/camassistant_left/images/discard_changes.gif" alt="Discard Property" /></a><?php */?>
<a href="index.php?option=com_camassistant&controller=addproperty&task=boardmemberslist"><img src="templates/camassistant_left/images/cancel_red.gif" border="0"/></a><input type="image" src= "templates/camassistant_inner/images/save.png" onclick="javascript: return validate_data2();"  />  </div>
</div>




<div class="clear"></div>
</div>

<input type="hidden" name="id" value="<?PHP echo $this->details->id; ?>"  />
</form>
</div> 
<div class="clear"></div>
</div>

<?PHP exit; ?>





