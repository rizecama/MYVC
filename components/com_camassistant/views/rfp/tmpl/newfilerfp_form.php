<?php
/**
 * @version		1.0.0 camassistant $
 * @package		camassistant
 * @copyright	Copyright Â© 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');
JHTML::_('behavior.modal');
$toolTipArray = array('className'=>'tool');
JHTML::_('behavior.tooltip', '.hasTip2', $toolTipArray);
JHTML::_('behavior.calendar');
jimport( 'joomla.html.html' );
$propertyList=$this->propertyList;
$industryList=$this->industryList;
$reqCatList=$this->reqCatList;
$model=$this->getModel('rfp');
for($i=0;$i<count($reqCatList);$i++)
{
	$pid = $reqCatList[$i]['id'];
	$reqCatList2=$model->getSplRequiremntCats($pid);
	$reqCatList[$i]['subcat'] = $reqCatList2;
	//$cnt = count($reqCatList[$i]['subcat']);
	for($j=0;$j<count($reqCatList[$i]['subcat']);$j++)
	{
		$pid2 = $reqCatList[$i]['subcat'][$j]['id'];
		$reqCatList3=$model->getSplRequiremntCats($pid2);
		$reqCatList[$i]['subcat'][$j]['subcat2'] = $reqCatList3;
	}
}
//echo $reqCatList[1][subcat][0]['id'];
/*echo "<pre>";
print_r($reqCatList);exit;*/

$user=& JFactory::getuser();
?>
<?php
if($user->user_type == 13 && $user->accounttype=='master')
$itemid = '240';
else if($user->user_type == 13 && $user->accounttype!='master')
$itemid = '119';
else
$itemid = '129';
?>
<link rel="stylesheet" media="all" type="text/css" href="<?php echo Juri::base(); ?>components/com_camassistant/skin/css/jquery1.css" />
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery-ui-1.8.6.custom.min.js"></script>
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery.elastic.js"></script>

<script>

function validate_date(day)
 {
	 var mystring = day;
	 var myarray = mystring.split("-");
	 var d = new Date();
	 var curr_day = d.getDate();
	 var diff = parseInt(myarray[1]) - parseInt(curr_day);
	function addDays(myDate,days)
	 {
        return new Date(myDate.getTime() + days*24*60*60*1000);
	  }
     var x = addDays(new Date(),20);
 }

G = jQuery.noConflict();
window.addEvent('domready', function() {
			SqueezeBox.initialize({});
			$$('input.modal').each(function(el) {
				el.addEvent('click', function(e) {
				new Event(e).stop();
					inputString=G('#industry_id').val();
					inputString1=G('#property_id').val();
					if((inputString)&&(inputString1)){

el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&formid='+inputString+'&lcnt='+id1+'&tmpl=component';
var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 780, y:580}}"))
	SqueezeBox.fromElement(el,options);
					}else{
					alert('Please Select the industry.');
					}
				});
			});

		});
G(document).ready(function(){
G('#line_taskdesc1').elastic();
G('#line_taskdesc1').trigger('update');
});

function linetaskupload(id){
property_id=G('#property_id').val();
industry_id=G('#industry_id').val();
if((property_id)&&(industry_id)){

el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task=upload_select&taskid='+id+'&pid='+property_id+'&mid='+<?php echo $user->id; ?>;
//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=popupdocs&task=opendocs&taskid='+id+'&pid='+property_id+'&mid='+<?php echo $user->id; ?>;
//SqueezeBox.fromElement(el);
var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 700, y:450}}"))
SqueezeBox.fromElement(el,options);
}else{
alert('Please Select the industry.');
}
}
function deletelineupload(taskid,num){
var res = confirm("Are you sure you want to remove this file from the RFP?");

if(res==true){
window.parent.document.getElementById('lineuploads'+taskid).value ='';
window.parent.document.getElementById('delimg'+taskid).style.display ='none';
window.parent.document.getElementById('uploadfile'+taskid).style.display ='none';
window.parent.document.getElementById('newSelector'+num).style.display ='none';
/*
if(taskid>20){
window.parent.document.getElementById('requiredoprice'+taskid).style.display ='none';
}
*/
//window.parent.document.getElementById('upload_file'+taskid).innerHTML ='<a href="javascript:linetaskupload(\''+taskid+'\');"><img src="<? //echo juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif" alt="upload a file"></a>';
    }
}
function deletelineupload_line(taskid){
var res = confirm("Are you sure you want to remove this file from the RFP?");

if(res==true){
window.parent.document.getElementById('line_uploads'+taskid).value ='';
window.parent.document.getElementById('delimg'+taskid).style.display ='none';
/*
if(taskid>20){
window.parent.document.getElementById('requiredoprice'+taskid).style.display ='none';
}
*/
window.parent.document.getElementById('upload_file'+taskid).innerHTML ='<a href="javascript:linetaskupload(\''+taskid+'\');"><img src="<? echo juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif" alt="upload a file"></a>';
}
}
function addproperty(id){
if(id=='addp'){
el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task=addproperty';
var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 630, y:550}}"))
SqueezeBox.fromElement(el,options);
}
if(id==''){
alert("Please select the property.");
document.getElementById('proposal_form').style.display='none';
}
else{
document.getElementById('proposal_form').style.display='';

/*G.post("index2.php?option=com_camassistant&controller=rfp&task=gainmanager", {pid: ""+id+""}, function(data){
document.getElementById('manager_name').innerHTML = data;
document.getElementById('hiddenmanager').style.display = 'none';
});*/
/*G.post("index2.php?option=com_camassistant&controller=rfp&task=getphonenumber", {pid: ""+id+""}, function(data){
document.getElementById('showphone').innerHTML = data;
document.getElementById('hidephone').style.display = 'none';
});*/
//To get the property image
G.post("index2.php?option=com_camassistant&controller=rfp&task=getimage", {pid: ""+id+""}, function(data){
document.getElementById('imagediv').innerHTML = data;
G('.duplicate_image').hide();
G('.basicinfo').show();
});
//COmpleted
}

}

function getpopuppics(pid){
el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task=uploadpropertypic&pid='+pid;
var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 500, y:350}}"))
SqueezeBox.fromElement(el,options);
}


function sowrfp(task) {
industry=G('#industry_id').val();
property=G('#property_id').val();
//if((industry)&&(property)){
	if(task=='pro_hired')
	{
		document.getElementById("licenced").checked=false;
		document.getElementById("submenu1").style.display='none';
		document.getElementById("sub_req_id1").checked=false;
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='none';
		if(document.getElementById("projectName").value!='' && document.getElementById("projectName").value!='Reference')
		document.getElementById("title_task1").value=document.getElementById("projectName").value;
		el="index2.php?option=com_content&view=article&id=122";
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	} else if(task=='pro_hired_camassitant'){
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='none';
		document.getElementById('upload_file').style.display='none';
		document.getElementById('someone_engineer1').style.display='none';
		document.getElementById('someone_engineer2').style.display='none';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById("choose_tasks1a").checked=false;
		document.getElementById("choose_tasks1b").checked=false;
		document.getElementById("licenced").checked=true;
		document.getElementById("submenu1").style.display='';
		document.getElementById("sub_req_id1").checked=true;
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	}  else if(task=='pro_hired_camassitant1'){
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		//task='pro_hired_camassitant';
		document.getElementById('line_task').style.display='none';
		document.getElementById('upload_file').style.display='none';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='';
		document.getElementById('someone_engineer2').style.display='none';
		document.getElementById("choose_tasks21").checked=false;
		document.getElementById("choose_tasks22").checked=false;
		/*el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&formid=23&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);*/

	} else if(task=='pro_hired_camassitant2'){
		//task='pro_hired_camassitant';
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';

		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='none';
		document.getElementById('upload_file').style.display='none';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='none';
		document.getElementById('someone_engineer2').style.display='';
		document.getElementById("choose_tasks31").checked=false;
		document.getElementById("choose_tasks32").checked=false;
		/*el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&formid=47&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);*/
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	} else if(task=='pro_hired_camassitant1_eng'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else if(task=='pro_hired_camassitant2_arc'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else if(task=='pro_hired_camassitant1_eng1'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer2').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else if(task=='pro_hired_camassitant2_arc1'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer2').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else {
		document.getElementById("licenced").checked=false;
		document.getElementById("submenu1").style.display='none';
		document.getElementById("sub_req_id1").checked=false;
		document.getElementById('someone_engineer').style.display='none';
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		el="index2.php?option=com_content&view=article&id=121";
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	}

	<?php /*?>el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;<?php */?>
	/*var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);*/
//}else{
	//alert('Please Fill the Property And Industry');
//}


}

//

//
function removeperform(){
G('#sub_performother').css('display','');
//G('#sub_perform1').css('display','none');
}
function showme(){
G('#sow_me').css('display','block');
G('#someone_me').css('display','none');
}
function showsomeone(){
var inputString1=document.getElementById("property_id").value;
	if(!inputString1){
	alert('Please Select Property')
	} else {
G('#sow_me').css('display','none');
G('#someone_me').css('display','block');
	}

}

function addEvent1() {
linetask=$('#line_task').html();
G('#newdiv').prepend(linetask);
}

//

//
function validate_sitevisit()
{
	var chks2 = document.getElementsByName('site_visit[]');
	var bidders_info = document.getElementsByName('bidders_info[]');
	var hasChecked2 = false;
	var details=0;
	for (var i = 0; i < chks2.length; i++)
	{
	if (chks2[i].checked)
	{
		if(bidders_info[i].value=='' || bidders_info[i].value=='Please provide details here')
		{
		document.getElementById('details').value='no';
		} else {
		document.getElementById('details').value='yes';
		}
		hasChecked2 = true;
		break;
	}
	}
	if (hasChecked2 == false)
	return false;
	else
	return true;
}
function fn_submitRFPd(rfpType)
{
	if(rfpType == 'draft'){
	var frm=document.adminForm;
	if((frm.property_id.value=='')||(frm.property_id.value=='addp'))
	{
		alert("Please choose your property name");
		frm.property_id.focus();
		return;
	} else if (frm.projectName.value=='Reference'){
	frm.projectName.value='';
	return;
	} else {
	frm.controller.value="rfp";
			 frm.task.value="submit_rfp";
			 frm.rfp_type.value=rfpType;
			 frm.submit();
	}
	}
	else {
				var conf = confirm("Are you sure you want to leave the RFP and lose your current work?");
				if(conf == true){
				window.location.assign("index.php?option=com_camassistant&controller=rfpcenter&task=dashboard&Itemid=125")
				}
				else{
				}
				
		}
}
//
function fn_submitRFP(rfpType)
{
	var frm=document.adminForm;

	
	var sitevisit=validate_sitevisit();
	/*for(var s=1; s<=id1; s++)
	{
		var idname = 'title_task'+s;
		 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
		 {
		 alert('Please Enter Title of Line Item Task');
		 document.getElementById('title_task'+s).value='';
		 document.getElementById('title_task'+s).focus();
		 return ;
		 }
	 }*/
	if((frm.property_id.value=='')||(frm.property_id.value=='addp'))
	{
		alert("Please choose your property name");
		frm.property_id.focus();
		return;
	} else if(frm.projectName.value=='' || frm.projectName.value=='Reference') {
		alert("Please enter Reference name");
		frm.projectName.focus();
		return;
	} else if(frm.industry_id.value=='') {
		alert("Please choose your industry");
		frm.industry_id.focus();
		return;
	} 
	/* else if(frm.projectInfo.value=='') {
		alert("Please enter about Project details");

		return;

	}*/  /*else if(frm.startDate.value=='') {
		alert("Please select your project Start date");
		frm.startDate.focus();
		return;
	} else if(frm.endDate.value=='') {

		alert("Please select your project End date");
		frm.endDate.focus();
		return;
	}*/ else if(frm.proposalDueDate.value=='') {
		alert("Please select vendor proposal due Date");
		frm.proposalDueDate.focus();
		return;
	} else if(frm.proposalDueDate.value) {
		if(sitevisit==false) {
			alert("Please select at least one from the site visit list");
			return;
		} else if(document.getElementById('details').value=='no') {
			alert("Please enter the Site Visit information");
			return;

		} /*else if(frm.terms.checked==false ) {
			alert("You must accept the terms and conditions to submit your RFP");
			frm.terms.focus();
			return;
		}*/ else {
			
			var lines = 0;
			G('.totalblocks').each(function(){
				lines++;
			});
			id1 = lines ;
			for(var s=1; s<=id1; s++)
			{

				var idname = 'title_task'+s;
				 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
				 {
				 alert('Please Enter Title of Line Item Task');
				 document.getElementById('title_task'+s).value='';
				 document.getElementById('title_task'+s).focus();
				 return ;
				 }
				 if (G('.lineitemsnew').is(":checked")) {
				 if(document.getElementById('line_taskdesc'+s).value == '')
				 {
				 alert('Please Enter Line Item Description');
				 document.getElementById('line_taskdesc'+s).value='';
				 document.getElementById('line_taskdesc'+s).focus();
				 return ;
				 }
				 }
			 }
			 frm.controller.value="rfp";
			 frm.task.value="submit_rfp";
			 frm.rfp_type.value=rfpType;
			 frm.submit();
		}
	}
}


	/* else if(frm.proposalDueTime.value=='') {
		alert("Please select vendor proposal Ending Time");

		return;

	}*/
	/*else if(1==1)
	{
		for(var s=1; s<=id1; s++)
			{

				var idname = 'title_task'+s;
				 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
				 {
				 alert('Please Enter Title of Line Item Task');
				// document.getElementById('title_task'+s).value='';
				 document.getElementById('title_task'+s).focus();
				 return ;
				 }
			 }
	}*/
	/*else if(frm.terms.checked==false ) {
		alert("You must have to check the terms and conditions to create an RFP");
		frm.terms.focus();
		return;
	}
	else {
	for(var s=1; s<=id1; s++)
	{

		var idname = 'title_task'+s;
		 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
		 {
		 alert('Please Enter Title of Line Item Task');
		 document.getElementById('title_task'+s).value='';
		 document.getElementById('title_task'+s).focus();
		 return ;
		 }
	 }

		frm.controller.value="rfp";
		frm.task.value="submit_rfp";
		frm.rfp_type.value=rfpType;
		frm.submit();
	}

}*/

function openmenu(val)
{
	//alert(document.getElementById("submenu"+val).style.display);

	if(document.getElementById("submenu"+val).style.display=="none")
	{
	document.getElementById("submenu"+val).style.display="";
	if(val==11)
			document.getElementById('req_id19').checked=true;
	if(val==12 && document.getElementById('sub_req_id3').checked==true)
	document.getElementById('liability'+val).style.display='';
	//document.getElementById("sr_cat").checked="true";
	}
	else
	{
	document.getElementById("submenu"+val).style.display="none";
	//document.getElementById("sr_cat").checked="false";
	}

}

	function removeEventedit(divNum){


		//G("#title_task"+id).attr("id","title_task"+id);
		G("div").remove("#newSelect"+divNum);
		//G('#newSelect'+divNum).html('');
		id1 = id1-1;
		var x;
			for(x=2; x<=id1; x++)
			{
				gtid = parseInt(x)+1;
				if(x>=divNum)
				{
				//alert('if');
				gtid = parseInt(x)+1;
				G("#PLN_"+gtid).html(x); //to change divid value
				G("#PLN_no"+gtid).html(x);
				G("#PLN_no"+gtid).attr("id","PLN_no"+x);
				G("#newSelect"+gtid).attr("id","newSelect"+x);
				G("#line_task"+gtid).attr("id","line_task"+x);
				G("#title_task"+gtid).attr("id","title_task"+x);
				G("#line_taskdesc"+gtid).attr("id","line_taskdesc"+x);
				G("#PLN_delete"+gtid).attr("id","PLN_delete"+x);
				G("#PLN_delete"+x).html('<a class="remove_lineitem_rfp_from" href="javascript:removeEvent1('+x+');"></a>');
				}
				else
				{
				//alert('else');
				G("#PLN_"+x).html(x); //to change divid no
				G("#PLN_no"+x).html(x);
				G("#PLN_no"+x).attr("id","PLN_no"+x);
				G("#newSelect"+x).attr("id","newSelect"+x);
				G("#line_task"+x).attr("id","line_task"+x);
				G("#title_task"+x).attr("id","title_task"+x);
				G("#line_taskdesc"+x).attr("id","line_taskdesc"+x);
				G("#PLN_delete"+gtid).attr("id","PLN_delete"+x);
				G("#PLN_delete"+x).html('<a class="remove_lineitem_rfp_from" href="javascript:removeEvent1('+x+');"></a>');
				}
			}

	}

var id1 =  '';
	var cnt =  '';
	//var remove_id;
	if(!id1)
	id1=1;
	else
	var id1=document.getElementById('idval').value;
	var endid1;
	function addEvent1(pid)
	{
		//document.getElementById("removeevent1").style.display = "block";
		/*if (id1<10)
		{ */
		//alert('hai');


			if(document.getElementById('idval').value!=0)
			{
			id1=(document.getElementById('idval').value);
			document.getElementById('idval').value=0;
			}
			id1++;
			//alert(id1);
			
			var tot = 1;
			G('.totalblocks').each(function(){
				tot++;
			});
			id1 = tot ;
			
			var arrlicen=new Array();
			var ni = document.getElementById('newdiv');
			var numi = document.getElementById('theValue');
			var num = (document.getElementById("theValue").value -1)+ 2;

			//alert(num);
			numi.value = num;
			var divIdName = "newSelect"+id1;
			//alert(divIdName);
			//modified by sateesh on 01-08-11
				 newitem='<div class="linetasksclass" id=\'line_task'+id1+'\'><p style="padding-bottom:12px;"></p><div class="lineitem_pan_rfpline"><div class="lineitem_pan_row"><h3 class="lineitemheading">LINE ITEM #<span class="blocknumbers" id="LM_'+id1+'">'+id1+'</h3><input type="hidden" name="old_taskids[]" /><p style="height:8px;"></p><strong>Title:</strong><br><input id=\'title_task'+id1+'\' type="text" value="Enter Title of Line Item Task" onblur="if (this.value == \'\') this.value = \'Enter Title of Line Item Task\'" onfocus="if (this.value == \'Enter Title of Line Item Task\')this.value = \'\'"  class="other_tfield" style="width: 613px; border: 1px solid rgb(215, 215, 215); padding: 5px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="linetaskname_2'+id1+'[]">&nbsp;<span class="redstar">*</span><div class="clear"></div><p style="padding-top: 17px;"></p><strong>Description:</strong><br><textarea class="other_tfield_desc" style="border: 1px solid rgb(215, 215, 215); padding: 5px; width: 612px; height: 45px; font-family: arial; font-size: 12px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" id="line_taskdesc'+id1+'" name="task_desc_2'+id1+'[]"></textarea><span class="redstarnew">*</span><div style="float: left; margin-left: -6px; padding-top:7px;"><table><tr><td><strong><input type="checkbox" class="price_lines"  name="is_req_taskvendors_2'+id1+'[]" id="price'+id1+'" value="1" onclick="javascript:check_hiddenvalue('+id1+');"></td><input type="hidden" name="hidden_taskvendors_2'+id1+'[]" value="0" id="hidden_price'+id1+'" /></strong><td>Require Vendors to assign a dollar value to this Line Item</td></tr></table></div><div class="clear"></div><p style="height:20px"></p><a class="upload_new_files_rfp" href="javascript:void(0);" onclick="addEventa2('+id1+');"></a><span class="deletelines_items" id="DL_'+id1+'" style="margin-left:10px;"><a href="javascript:removeEvent1('+id1+');" class="remove_lineitem_rfp_from" ></a></span></span> <div class="clear"></div><div id="newdiva2'+id1+'"></div><input type="hidden" checked="" id="line_taskno" name="line_taskno[]" value="2'+id1 +'" ></div></div>';
			//modified by sateesh on 01-08-11 completed
			var newdiv = document.createElement('div');
                      	newdiv.setAttribute("id",divIdName);
						newdiv.setAttribute("class","totalblocks");
			newdiv.innerHTML = newitem;
			ni.appendChild(newdiv);


//G('#line_taskdesc'+id1).elastic();
//G('#line_taskdesc'+id1).trigger('update');

	//}
	/*if(id1==10)
		document.getElementById("addevent1").style.display = "none";*/
	}


	function removeEvent1(divid)
	{
		var res = confirm("Are you sure you want to permanently delete this Line Item Task?");
		var idx;
		var idx2;
		var gtid;
		if(res==true)
		{
			G("div").remove("#newSelect"+divid);
			id1 = id1-1;
			var i = 1;
			G('.totalblocks').each(function(){
				G(this).find('.blocknumbers').html(i);
				G(this).find('.blocknumbers').attr("id","LM_"+i);
				
				G(this).attr("id","newSelect"+i);
				
				G(this).find('.linetasksclass').attr("id","line_task"+i);
				G(this).find('.other_tfield').attr("id","title_task"+i);
				G(this).find('.other_tfield_desc').attr("id","line_taskdesc"+i);
				G(this).find('.deletelines_items').attr("id","DL_"+i);
				G(this).find('.deletelines_items').html('<a class="remove_lineitem_rfp_from" href="javascript:removeEvent1('+i+');"></a>');
				G(this).find('.price_lines').attr("id","price"+i);
				i++;
			});
			/*for(idx=1; idx<=id1; idx++)
			{
					gtid = parseInt(idx)+1;
					if(idx > divid)
	                {
					G("#line_task"+gtid).attr("id","line_task"+idx);
					G("#title_task"+gtid).attr("id","title_task"+idx);
					G("#price"+gtid).val(idx-1);
					G("#line_taskdesc"+gtid).attr("id","line_taskdesc"+idx);
					G("#newSelect"+gtid).attr("id","newSelect"+idx);
					G("#LM_"+gtid).attr("id","LM_"+idx);
					G("#LM_"+idx).html(idx);
					G("#DL_"+gtid).attr("id","DL_"+idx);
					G("#DL_"+idx).html('<a class="remove_lineitem_rfp_from" href="javascript:removeEvent1('+idx+');"></a>');
					}
					else
					{
					alert(gtid);
					alert(idx2);
					idx2 = parseInt(idx)+1;
					G("#line_task"+gtid).attr("id","line_task"+idx2);
					G("#title_task"+gtid).attr("id","title_task"+idx2);
					G("#price"+gtid).val(idx2);
					G("#line_taskdesc"+gtid).attr("id","line_taskdesc"+idx2);
					G("#newSelect"+gtid).attr("id","newSelect"+idx2);
					G("#LM_"+gtid).attr("id","LM_"+idx2);
					G("#LM_"+idx2).html(idx2);
					G("#DL_"+gtid).attr("id","DL_"+idx2);
					G("#DL_"+idx2).html('<a class="remove_lineitem_rfp_from" href="javascript:removeEvent1('+idx2+');"></a>');
					}
			}*/
		 }
	}
</script>
<script language="javascript">
	//

	var id2 =  '';
	var cnt2 =  '';
	if(!id2)
	id2=1;
	else
	var id2=document.getElementById('idvals').value;
	var endid2;
	function addEvent2()
	{
		//document.getElementById("removeevent2").style.display = "block";
		/*if (id1<10)
		{ */
			//alert('hi');
			id2++;
			var arrlicen2=new Array();
			var ni2 = document.getElementById('newdiv2');
			var numi2 = document.getElementById('theValues');
			var num2 = (document.getElementById("theValues").value -1)+ 2;
			//alert(num);
			numi2.value = num2;
			var divIdName2 = "newSelector"+num2;
                       var divIdName2 = "newSelector"+num2;
                         newitem2='<table><tr><input type="hidden" name="old_docids[]" /><td><span id="delimg'+id2+''+num2+'" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::base(); ?>templates/camassistant_left/images/red.png" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload('+id2+''+num2+','+num2+');"/></span></td><td><span id="uploadfile'+id2+''+num2+'" style="float:left;width:auto;padding-right:5px; font-size:14px; color:#8FD800;"></span></td><input type="hidden" checked="" id="lineuploads'+id2+''+num2+'" name="attachmnent[]" ><div class="clear"></div></tr></table>';
			//newitem2='<div id="upload_file"><div class="lineitem_pan_row"><span class="grey_12">Additional Document/Specifications #'+id2+':</span><div style="padding: 10px 0pt 10px 5px; height:30px;" class="lineitem_pan"><span id="delimg2'+id2+'" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::base(); ?>templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload(2'+id2+');"/></span><span id="upload_file2'+id2+'" style="float:left;font-size:10px;width:auto;padding-right:5px;"><a href="javascript:linetaskupload(2'+id2+');"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span></div><input type="hidden" checked="" id="line_uploads2'+id2+'" name="attachmnent[]" ><div style="float: left; padding-left: 0px;"><span id="requiredoprice2'+id2+'" style="display:none;"><input type="checkbox" value="1" name="require_docprice[]" id="docprice'+id2+'" onclick="javascript:check_require_docprice('+id2+')"><input type="hidden" name="hidden_require_docprice[]" value="0" id="hidden_docprice'+id2+'" /><strong>Require</strong> vendors to assign a <strong>Dollar Value </strong>to this Attachment.</span></div><div class="color_butons"><a href="javascript:removeEvent2();"><img height="22"  alt="Upload another attachment" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/removeattachement.gif"></a></div><div class="clear"></div></div><div class="clear"></div>';
			//newitem2='<div id="upload_file"><div class="lineitem_pan_row"><span class="grey_12">Additional Document/Specifications #'+id2+':</span><div style="padding: 10px 0pt 10px 5px;" class="lineitem_pan"><span id="upload_file10" style="float:left;width:auto;"><a href="javascript:linetaskupload('10');"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span></div><div style="float: left; padding-left: 10px;"><input type="checkbox" value="1" name="require_docprice[]"><strong>Require</strong> vendors to assign a <strong>Dollar Value </strong>to this Attachment.</div><div class="color_butons"><a href="javascript:removeEvent2();"><img height="22"  alt="Upload another attachment" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/removeattachement.gif"></a></div><div class="clear"></div></div></div>';
			  //newitem2='<div id="upload_file"><div class="lineitem_pan_row"><span class="grey_12">Additional Document/Specifications #'+id2+':</span><div style="padding: 10px 0pt 10px 5px;" class="lineitem_pan"><input type="file" name="attachmnent[]" /></div><div style="float: left; padding-left: 10px;"><input type="checkbox" value="1" name="require_docprice[]"><strong>Require</strong> vendors to assign a <strong>Dollar Value </strong>to this Attachment.</div><div class="color_butons"><a href="javascript:removeEvent2();"><img height="22"  alt="Upload another attachment" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/removeattachement.gif"></a></div><div class="clear"></div></div></div>';


			var newdiv2 = document.createElement('div');
			newdiv2.setAttribute("id",divIdName2);
			newdiv2.innerHTML = newitem2;
			ni2.appendChild(newdiv2);
                        linetaskupload(id2+''+num2);
	//}
	/*if(id1==10)
		document.getElementById("addevent1").style.display = "none";*/
	}
        var id2 =  '';
	var cnt2 =  '';
	if(!id2)
	id2=1;
	else
	var id2=document.getElementById('idvals').value;
	var endid2;
	function addEventa2(id2)
	{
		//document.getElementById("removeevent2").style.display = "block";
		/*if (id1<10)
		{ */

	//alert(id2);
	//var id2=1;
		//id2++;
               // alert(id2);
			var arrlicen2=new Array();
			var ni2 = document.getElementById('newdiva2'+id2);
			var numi2 = document.getElementById('theValue');
			var num2 = (document.getElementById("theValue").value -1)+ 2;
			//alert(num);
			numi2.value = num2;
			var divIdName2 = "newSelector"+num2;

                        newitem2='<table><tr><input type="hidden" name="old_docids[]" /><td><span id="delimg'+id2+''+num2+'" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::base(); ?>templates/camassistant_left/images/red.png" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload('+id2+''+num2+','+num2+');"/></span></td><td><span id="uploadfile'+id2+''+num2+'" style="float:left;width:auto;padding-right:5px; font-size:14px; color:#8FD800;"></span></td><input type="hidden" value=" " name="linetask_uploads_2'+id2+'[]" id="lineuploads'+id2+''+num2+'"  ></tr></table>';


			var newdiva2 = document.createElement('div');
                        //alert(newdiva2);
			newdiva2.setAttribute("id",divIdName2);
			newdiva2.innerHTML = newitem2;
			ni2.appendChild(newdiva2);
	//}
	/*if(id1==10)
		document.getElementById("addevent1").style.display = "none";*/

		linetaskupload(id2+''+num2);
	}
	function removeEvent2()
	{
			divNum2 = document.getElementById("theValues").value;

		if(divNum2 != 0 )
		{
			var d2 = document.getElementById('newdiv2');
			var olddiv2 = document.getElementById("newSelector"+divNum2);
			d2.removeChild(olddiv2);
			var numi2 = document.getElementById('theValues');
			var num2 = document.getElementById("theValues").value -1;
			numi2.value = num2;
		}
		id2--;
	/*if(id1<=cnt)
	document.getElementById("removeevent1").style.display = "none";*/

	}
</script>
<script language="javascript" type="text/javascript">
function check_hiddenvalue(price_id)
{
	//alert(document.getElementById('price'+price_id).checked);
	if(document.getElementById('price'+price_id).checked==true)
	document.getElementById('hidden_price'+price_id).value=1;
	else
	document.getElementById('hidden_price'+price_id).value=0;
}
//
function check_require_docprice(doc_id)
{
	//alert(document.getElementById('price'+price_id).checked);
	if(document.getElementById('docprice'+doc_id).checked==true)
	document.getElementById('hidden_docprice'+doc_id).value=1;
	else
	document.getElementById('hidden_docprice'+doc_id).value=0;
}
function showproperty(){
	document.getElementById('propertysection').style.display='';
	}
</script>


<script type="text/javascript">


<!--
	function validateForm( frm ) {
		var valid = document.formvalidator.isValid(frm);
		if (valid == false) {
			// do field validation
			// your custom code here
			return false;
		} else {
			frm.submit();
		}
	}
	function fun_showdiv()
	{
		document.getElementById('showdiv').style.display='';
	}
	/*function open_new_window(url)
	{
	new_window = window.open(url,'window_name','toolbar=0,menubar=0,resizable=0,dependent=0,status=0,width=550,height=450,left=25,top=25')
	}*/

// -->
function firstindustry(indusid){
	// To get the special requirements for this industry
		G.post("index2.php?option=com_camassistant&controller=rfp&task=getspecialrequirements", {industryid: ""+indusid+""}, function(data){
		
			G('.newspecialrequirements').html(data);
			Custom.init();
		});
		//Completed
}

</script>

<script type="text/javascript">
	N = jQuery.noConflict();
	N(document).ready(function() {	
	// To get the general liability insurance sub items
	N('#generalliability').live('click',function(e) {
		if(this.hasClass('active')){
				N('#generalliability').removeClass('active');	
				N('.pre_general').hide();		
				N('.generaloptions').hide();
		}
		else{
				//N('#generalliability_sub').show(data);
				N('.pre_general').show();
				N('.generaloptions').show();
				N('#generalliability').addClass('active');
			}
	});
	//Completed	
	// To get the auto liability insurance sub items
	N('#autoliability').live('click',function(e) {
		if(this.hasClass('active')){
				N('#autoliability').removeClass('active');	
				N('.pre_auto').hide();		
		}
		else{
				//N('#generalliability_sub').show(data);
				N('.pre_auto').show();
				N('#autoliability').addClass('active');
				
			}
	});
	//Completed
	// To get the workers liability insurance sub items
	N('#workersliability').live('click',function(e) {
		if(this.hasClass('active')){
				N('#workersliability').removeClass('active');	
				N('.pre_workers').hide();		
		}
		else{
				//N('#generalliability_sub').show(data);
				N('.pre_workers').show();
				N('#workersliability').addClass('active');
				
			}
	});
	//Completed
	// To get the umbrella liability insurance sub items
	N('#umbrellaliability').live('click',function(e) {
		if(this.hasClass('active')){
				N('#umbrellaliability').removeClass('active');	
				N('.pre_umbrella').hide();		
		}
		else{
				//N('#generalliability_sub').show(data);
				N('.pre_umbrella').show();
				N('#umbrellaliability').addClass('active');
				
			}
	});
	//Completed
	// To get the umbrella liability insurance sub items
	N('#licensingliability').live('click',function(e) {
		if(this.hasClass('active')){
				N('#licensingliability').removeClass('active');	
				N('.pre_lic').hide();		
		}
		else{
				//N('#generalliability_sub').show(data);
				N('.pre_lic').show();
				N('#licensingliability').addClass('active');
							}
	});
	//Completed
	N('#workers_not').live('click',function(e) {
	N('.notaccepted').css('display','block');
	});	
	
	N('#workers_yes').live('click',function(e) {
	N('.notaccepted').css('display','none');
	});
	
	});
</script>
<script type='text/javascript'>
function add_commas_special(arg,x) {
var id = arg.getAttribute('id');
N.post("index2.php?option=com_camassistant&controller=rfpcenter&task=vendorinsstand_calc", {fieldvalue:""+x+""}, function(data){
	if(data != '0.00'){
		N('#'+id).val(data);
	}
	else{
		N('#'+id).val('');
	}
});
}
</script>
<style type="text/css">
.white_light_link {
	background-color:#FFF;
	border:1px solid #5096DB;
	display:none;
	height:250px;
	left:25%;
	overflow:auto;
	padding:5px;
	position:absolute;
	top:800px;
	bottom:0px;
	width:50%;
	z-index:1002;
}
</style>
<?php
$user = JFactory::getUser();
if(!$user->id){
echo "<span class='blueheads'>You need to login to access this page</span>";
} else {
if($user->user_type == 11)
{ ?>
<div align="center" style="color:#0066FF; font-size:15px"> You are not authorized to view this page.</div>
<?php } else { ?>
<?php /*?><div id="bedcrumb" style="float:left">
<ul>
<br/>
<li class="home"><a href="index.php?option=com_camassistant&controller=vendors&task=vendor_dashboard&Itemid=112">Home  </a></li>
<li>Create RFP</li>
</ul>
</div><?php */?>
<div align="center"><img src="/dev/templates/camassistant_left/images/step1.jpg"></div>
<p style="height:40px;"></p>

<div id="vender_right2">
<?php $RFP=$this->userinfo;  ?>
<!-- sof dotshead -->
<!--<div id="dotshead_blue">CREATE A RFP &nbsp;&nbsp;<font color="#21314D">(REQUEST FOR PROPOSALS)</font></div>-->
<!-- eof dotshead -->

<div id="i_bar">
<div id="i_bar_txt" style="width:600px; text-align:center;">
<span style="margin-left:52px;">
<?php if($_REQUEST['Itemid'] == '205' || $_REQUEST['Itemid'] == '199'){ ?>
<strong>REQUEST FOR PROPOSALS</strong> (RFP)
<?php } ?>
<?php if($_REQUEST['Itemid'] == '206' || $_REQUEST['Itemid'] == '200'){ ?>
<strong>REQUEST FOR BUDGETARY PRICING</strong>
<?php } ?>
<?php if($_REQUEST['Itemid'] == '207' || $_REQUEST['Itemid'] == '201'){ ?>
<strong>REQUEST FOR SCOPE OF WORK</strong> (SOW)
<?php } ?>
 </span></div>

<!--<div class="custom2"><?php //echo  JHTML::tooltip('REQUEST PROPOSALS FROM QUALIFIED VENDORS ', 'Tooltip title', 'info_icon2.png', '',''); ?></div><a class="hasTip" title="My Title::Tooltip on 'a' tag text using default 'hasTip' class" href="http://www.joomla.org">Tooltip on a link example</a>-->
<span class="hasTip2" title="Info ::REQUEST PROPOSALS FROM QUALIFIED VENDORS.">
<?php
 $user = JFactory::getUser();
if ($user->user_type=='12') { ?>
<a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=95&amp;Itemid=113"><img src="templates/camassistant_left/images/info_icon2.png" style="padding-left:24px; padding-top:4px;"> </a>
<?php } else { ?>
<a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=60&amp;Itemid=113"><img src="templates/camassistant_left/images/info_icon2.png" style="padding-left:20px; padding-top:4px;"> </a>
<?php } ?>

<!--<img alt="info" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon2.png">-->


</span>


<!--<div id="i_icon"><a href="#"><img alt="info" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon2.png"></a></div>-->
</div>

<div class="head_greenbg2" style="background:none; height:0px;"><!--sof rfp box-->
<div id="rpf_ifo" style="margin-top:-7px;">
  

<div id="i_bar">
<div style="text-align:center;" id="i_bar_txt_small">
<span style="margin-left:23px;">
<strong>CONTACT INFO</strong>
<?php
 $user = JFactory::getUser();
if ($user->user_type=='12') { ?>
<a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=96&amp;Itemid=113"><img src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon2.png" alt="info" align="right" style="margin-top: -4px; margin-right: 8px; vertical-align:top;"></a>
<?php } else { ?>
<a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=94&amp;Itemid=113"><img align="right" style="margin-top: -4px; margin-right: 8px; vertical-align:top;" alt="info" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon2.png"> </a>
<?php } ?>
 </span></div>
 </div>
 
    <div id="rpf_ifo_text"><h1 style="line-height:20px;">Property Management Company:</h1>
	<?php //echo "<pre>"; print_r($RFP); ?>
	<?php $db =& JFactory::getDBO();
$state="SELECT state_name FROM #__state where id='".$RFP->comp_state."'";
		$db->Setquery($state);
		$state_name = $db->loadResult();
		//echo "<pre>"; print_r($RFP);?>
<?PHP echo $RFP->comp_name;  ?><br />
<?PHP echo $RFP->mailaddress;  ?><br />
<?PHP echo $RFP->comp_city;  ?>, <?PHP echo $state_name;  ?> <?PHP echo $RFP->comp_zip;  ?><br />
P: <?PHP echo $RFP->comp_phno;  ?><br />
F: <?PHP echo $RFP->comp_alt_phno;  ?><br />
<a href="http://<?PHP echo $RFP->comp_website;  ?>" target="_blank"><?PHP echo $RFP->comp_website;  ?></a>
<h1 style="line-height:20px; margin-top:10px;">Property Manager:</h1>
<?PHP //echo $RFP->name;  ?> <?PHP //echo $RFP->lastname;  ?>
<p id="hiddenmanager"><?PHP echo $RFP->name;  ?> <?PHP echo $RFP->lastname;  ?><br /></p>
<p id="manager_name"></p>
<p id="hidephone">P: <?PHP echo $RFP->phone;  ?> <?PHP if($RFP->extension) {echo "(x".$RFP->extension.")";} else{}  ?></p>
<p id="showphone"></p>

<br />
<a href="mailto:<?PHP echo $RFP->email;  ?>">Email Property Manager</a>
<br /><br />
<a class="modal" id="editlinkmans" rel="{handler:'iframe', size:{x:370, y:300}}" href="index.php?option=com_camassistant&controller=rfp&task=shareinfo&tmpl=component" >EDIT</a>
    </div>
<?php /*?><a href="index.php?option=com_camassistant&controller=rfp&task=shareinfo&tmpl=component" class="modal" rel="{ handler:'iframe', size:{x:370, y:300} }"><img align="right" style="margin-right:-3px;" alt="info sharing preferences" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/infosharing.gif"></a><?php */?> </div>
<!--eof rfp box--><!--<span style="margin-left:5px">DEFINE YOUR RFP DETAILS BELOW:</span>-->


 </div>
 <div style="margin-left: 2px; margin-top:-8px;">
 <div class="duplicate_image" style="margin-top:-10px; display:table-cell; text-align:center; vertical-align:middle; width:432px; height:298px; box-shadow:1px 1px 2px 1px #808080;">Please select a property for image</div>
 </div>
 <div id="imagediv"></div>
 <br />
 
 <div class="clear"></div>
<!-- sof table pan -->
<div class="table_pannel">

<?php /*?> <div class="clear"></div><?php */?>
<div class="basicinfo">
<div class="clear"></div>
 <div id="i_bar" style="margin-top:20px;">
<div style="text-align:center;" id="i_bar_txt_small">
<span>
<strong>BASIC INFORMATION </strong>
 </span></div>
 </div>
 </div>
 
<form action="<?php echo JRoute::_( 'index.php' );?>" method="post" name="adminForm" id="adminForm" class="form-validate" enctype="multipart/form-data">
<div class="signup">
<label>Select Property:<span class="redstar">*</span> </label>
<span id="prop_list">
<?php //echo "<pre>"; print_r($propertyList); ?>
<?php //echo JHTML::_('select.genericlist', $propertyList, 'property_id', 'size="1" class="inputbox" onchange="addproperty(this.value);""', 'value', 'text', ''); ?>

<select name="property_id" id="property_id" onchange="addproperty(this.value);">
<?php
for ($p=0; $p<count($propertyList); $p++){
$properties = $this->propertyList[$p];   ?>
<option value="<?php echo $properties->value; ?>"><?php echo str_replace('_',' ',$properties->text); ?> </option>
<?php }  ?>
 </select>
</span>
</div>



<script language="javascript" type="text/javascript">
function fun_pullname(name)
{
document.getElementById("title_task1").value=name;
}
function wizard(choose){
//alert(choose);
if(choose=='2'){
document.getElementById("licenced").checked=true;
document.getElementById("submenu1").style.display='';
document.getElementById("sub_req_id1").checked=true;
//document.getElementById("licenced").disabled=true;
//document.getElementById("sub_req_id1").disabled=true;
}

//frm.is_checked.checked= false
}
</script>
<style type="text/css">

   body {
	font: 0.8em/21px arial,sans-serif;
}

.checkbox {
	width: 19px;
	height: 25px;
	padding: 0 5px 0 0;
	background: url(checkbox.png) no-repeat;
	display: block;
	clear: left;
	float: left;
}
</style>
<script type="text/javascript">
var checkboxHeight = "25";
var radioHeight = "25";
var selectWidth = "190";


/* No need to change anything after this */


document.write('<style type="text/css">input.styled_3 { display: none; } select.styled_3 { position: relative; width: ' + selectWidth + 'px; opacity: 0; filter: alpha(opacity=0); z-index: 5; } .disabled { opacity: 0.5; filter: alpha(opacity=50); }</style>');

var Custom = {
	init: function() {
		var inputs = document.getElementsByTagName("input"), span = Array(), textnode, option, active;
		for(a = 0; a < inputs.length; a++) {
			if((inputs[a].type == "checkbox" || inputs[a].type == "radio") && inputs[a].className == "styled_3") {
				span[a] = document.createElement("span");
				span[a].className = inputs[a].type;

				if(inputs[a].checked == true) {
					if(inputs[a].type == "checkbox") {
						position = "0 -" + (checkboxHeight*2) + "px";
						span[a].style.backgroundPosition = position;
					} else {
						position = "0 -" + (radioHeight*2) + "px";
						span[a].style.backgroundPosition = position;
					}
				}
				inputs[a].parentNode.insertBefore(span[a], inputs[a]);
				inputs[a].onchange = Custom.clear;
				if(!inputs[a].getAttribute("disabled")) {
					span[a].onmousedown = Custom.pushed;
					span[a].onmouseup = Custom.check;
				} else {
					span[a].className = span[a].className += " disabled";
				}
			}
		}
		inputs = document.getElementsByTagName("select");
		for(a = 0; a < inputs.length; a++) {
			if(inputs[a].className == "styled_3") {
				option = inputs[a].getElementsByTagName("option");
				active = option[0].childNodes[0].nodeValue;
				textnode = document.createTextNode(active);
				for(b = 0; b < option.length; b++) {
					if(option[b].selected == true) {
						textnode = document.createTextNode(option[b].childNodes[0].nodeValue);
					}
				}
				span[a] = document.createElement("span");
				span[a].className = "select";
				span[a].id = "select" + inputs[a].name;
				span[a].appendChild(textnode);
				inputs[a].parentNode.insertBefore(span[a], inputs[a]);
				if(!inputs[a].getAttribute("disabled")) {
					inputs[a].onchange = Custom.choose;
				} else {
					inputs[a].previousSibling.className = inputs[a].previousSibling.className += " disabled";
				}
			}
		}
		document.onmouseup = Custom.clear;
	},
	pushed: function() {
		element = this.nextSibling;
		if(element.checked == true && element.type == "checkbox") {
			this.style.backgroundPosition = "0 -" + checkboxHeight*3 + "px";
		} else if(element.checked == true && element.type == "radio") {
			this.style.backgroundPosition = "0 -" + radioHeight*3 + "px";
		} else if(element.checked != true && element.type == "checkbox") {
			this.style.backgroundPosition = "0 -" + checkboxHeight + "px";
		} else {
			this.style.backgroundPosition = "0 -" + radioHeight + "px";
		}
	},
	clear: function() {
		inputs = document.getElementsByTagName("input");
		for(var b = 0; b < inputs.length; b++) {
			if(inputs[b].type == "checkbox" && inputs[b].checked == true && inputs[b].className == "styled_3") {
				inputs[b].previousSibling.style.backgroundPosition = "0 -" + checkboxHeight*2 + "px";
			} else if(inputs[b].type == "checkbox" && inputs[b].className == "styled_3") {
				inputs[b].previousSibling.style.backgroundPosition = "0 0";
			} else if(inputs[b].type == "radio" && inputs[b].checked == true && inputs[b].className == "styled_3") {
				inputs[b].previousSibling.style.backgroundPosition = "0 -" + radioHeight*2 + "px";
			} else if(inputs[b].type == "radio" && inputs[b].className == "styled_3") {
				inputs[b].previousSibling.style.backgroundPosition = "0 0";
			}
		}
	},
	choose: function() {
		option = this.getElementsByTagName("option");
		for(d = 0; d < option.length; d++) {
			if(option[d].selected == true) {
				document.getElementById("select" + this.name).childNodes[0].nodeValue = option[d].childNodes[0].nodeValue;
			}
		}
	}
}
window.onload = Custom.init;
</script>
<div id="proposal_form" style="display:none;">
<div id="propertysection">
<br />
<p>Please select the type of bidding you would like to use for this Request</p>
<div style="margin-top:10px;">
<table cellpadding="0" cellspacing="0"><tr>
<td><input type="radio" onclick="javascript:showproperty()" value="open" name="bidding" style="margin-top:1px; padding:0px;" checked="checked">
</td>
<td><strong>&nbsp;&nbsp;Open Bidding</strong></td></tr>
<tr><td></td><td><p style="margin-left: 7px;">Open bidding allows you to see a Vendorâs quote (pricing) as soon as it is submitted into the system.</p></td></tr>
<tr><td><input type="radio" onclick="javascript:showproperty()" value="seal" name="bidding" style="padding:0px; margin-top:1px;"></td>
<td><strong>&nbsp;&nbsp;Sealed Bidding</strong></td></tr>
<tr><td><td><p style="margin-left: 7px;">Sealed bidding allows you to see a Vendorâs quote (pricing) ONLY after you manually close the RFP.</p></td></tr>
</table>
</div>
</div>
<br />
<div class="signup">
<label>Reference Name for this Request:<span class="redstar">*</span> </label>
<input type="text"  value="" style="width: 275px;" name="projectName" id="projectName" onchange="javascript:fun_pullname(this.value);">
</div>
<br />
<div class="signup" style="width:334px;">
<label style="width:334px;">Industry from which you would like to obtain quotes:<span class="redstar">*</span></label>
<?php echo JHTML::_('select.genericlist', $industryList, 'industry_id', 'size="1" style="width:275px;" class="inputbox" onchange="firstindustry(this.value);""', 'value', 'text', '');?>
</div>
<br />
<div class="signup">
<div class="state">
<label>I would like my proposals by:<span class="redstar">*</span>   	</label>
</div>

<div class="signup">
<div class="clear"></div>
<table cellspacing="0" cellpadding="0" border="0" width="277">
  <tbody><tr>
     <td>
	 <input type="text" name="proposalDueDate" id="proposalDueDate" value="" onkeydown="javascript:validate_proposaldate()" onchange="javascript:validate_proposaldate()" onblur="javascript:validate_proposaldate()" readonly="readonly"/>
<script type="text/javascript">
<?php
		$configaration="SELECT 	calender_on_off FROM #__cam_configuration  where id='1'";
		$db->Setquery($configaration);
		$onoff = $db->loadResult();
		if($onoff=='yes') { ?>
G('#proposalDueDate').datetimepicker({
			dateFormat: 'mm-dd-yy',
			//minDate: '10D',
			minDate: '0D',
			//minDate: 'new',
			 timeFormat: 'hh:00',
			 hour: 12,
			 minute: 00,
			changeYear: true,changeMonth:true,
			//ampm: true,

 beforeShowDay: function (date) {
        if (date.getDay() == 0 || date.getDay() == 1 || date.getDay() == 6) {
                    return [false, ''];
                } else {
                    return [true, ''];
                }

     }

});
<?php } else { ?>
G('#proposalDueDate').datetimepicker({
			dateFormat: 'mm-dd-yy',
			//minDate: '10D',
			minDate: '0D',
			//minDate: 'new',
			 timeFormat: 'hh:00',
			 hour: 12,
			 minute: 00,
			changeYear: true,changeMonth:true,
			//ampm: true
			});
			
			G("#proposalDueDate").click(function () {
			 var someDate = new Date();
			var numberOfDaysToAdd = 7;
			someDate.setDate(someDate.getDate() + numberOfDaysToAdd); 
			var dd = someDate.getDate();
			var mm = someDate.getMonth() + 1;
			var y = someDate.getFullYear();
			var newdate = mm + '-'+ dd + '-'+ y + '12:00';
			 G('#proposalDueDate').datetimepicker('setDate', newdate);
                  });
				  
<?php  } ?>
//G('#proposalDueDate').datetimepicker({ 	ampm: true });

//
function  changeStartdate()
{
	var d = new Date();
		var dd=d.getDate();
		var mm=d.getMonth() + 1;
		var yy=d.getFullYear();
		var cd=new Date(yy,mm,dd);
		var dateBits1=document.getElementById('startDate').value.split('-');
		var d1=new Date(dateBits1[2],dateBits1[0],dateBits1[1]);
		var diff=Math.ceil(d1-cd);
		var one_day=1000*60*60*24;
		var days=Math.ceil(diff/(one_day));
		var mindays=parseInt(days +20)+'D';
		//alert(mindays);
		G('#proposalDueDate').datetimepicker({
		dateFormat: 'mm-dd-yy',
		//minDate: '10D',
		minDate: mindays,
		changeYear: true,changeMonth:true,
		ampm: true
		});
}
//
function validate_proposaldate()
{
}
//
function fun_sitevisit(id)
{
	if(id=='bid')
	{
		document.getElementById("bidtxt").style.display='';
		document.getElementById("bidinfo").style.display='';
		document.getElementById("rectxt").style.display='none';
		document.getElementById("recinfo").style.display='none';
		document.getElementById("notid").style.display='none';
	} else if(id=='rec'){
		document.getElementById("bidtxt").style.display='none';
		document.getElementById("bidinfo").style.display='none';
		document.getElementById("rectxt").style.display='';
		document.getElementById("recinfo").style.display='';
		document.getElementById("notid").style.display='none';
	} else {
		document.getElementById("bidtxt").style.display='none';
		document.getElementById("bidinfo").style.display='none';
		document.getElementById("rectxt").style.display='none';
		document.getElementById("recinfo").style.display='none';
		document.getElementById("notid").style.display='';
	}
}

</script>

	 </td>
  </tr>
</tbody></table>
</div>
<div id="msg_id" style="padding:5px;width:660px;border:1px solid #CDCDCD;margin-top:10px;margin-bottom:5px;background-color:#F7F7F7;display:none">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <!--<tr>
    <td style="background-color:#FFCC00"><strong>Inforamtion</strong></td>
  </tr>-->
  <tr>
    <td style="color:#FF0000">Your projected start date is before the RFP close date.  If this is intentional, be sure to include information that this is a pre-existing partially completed job, and details of your existing job status as a part of your RFP.</td>
  </tr>
</table>
<div class="clear"></div>
</div>
</div>
<br />
<div class="signup2">
<label>
Site Visit:<span class="redstar">*</span>
 </label><div class="clear"></div>

<div class="chekbox_pan">
<input type="hidden" name="details" id="details" value="no" />
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tbody><tr>
    <td align="right" width="10%"><input type="radio" value="Required prior to bidding" name="site_visit[]" onclick="javascript:fun_sitevisit('bid');"></td>
    <td style="padding-top:5px;" width="90%">Required prior to bidding</td>
  </tr>
  <tr  align="right" id="bidtxt" style="display:none">
<?php /*?>    <td>&nbsp;</td><?php */?>
  <?php /*?>  <td align="justify"><p style="padding-left: 15px;float:left;">Please specify required bidders meeting in text field below:</p> </td><?php */?>
  </tr>
  <tr id="bidinfo" style="display:none">
    <td align="right">&nbsp;</td>
    <td height="50"><textarea style="border: 1px solid rgb(215, 215, 215); padding: 5px; background: rgb(247, 247, 247) none repeat scroll 0% 0%; width: 245px; height: 63px; font-family: arial; font-size: 12px; color: rgb(125, 125, 125); -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="bidders_info[]" onblur="if (this.value == '') this.value = 'Please provide location, availability, and/or contact information for scheduling a site visit.'" onfocus="if (this.value == 'Please provide location, availability, and/or contact information for scheduling a site visit.') this.value = ''">Please provide location, availability, and/or contact information for scheduling a site visit.</textarea></td>
  </tr>
  <tr>
    <td align="right"><input type="radio" value="Recommended"  name="site_visit[]" onclick="javascript:fun_sitevisit('rec');"></td>
    <td style="padding-top:5px;">Recommended</td>
  </tr>
  <tr id="rectxt" style="display:none">
  <?php /*?>  <td align="right">&nbsp;</td><?php */?>
 <?php /*?>   <td><p style="padding-left: 15px;">Please specify required bidders

	  meeting in text field below:</p> </td><?php */?>
  </tr>
  <tr id="recinfo" style="display:none">
    <td align="right">&nbsp;</td>
    <td height="50"><textarea style="border: 1px solid rgb(215, 215, 215); padding: 5px; background: rgb(247, 247, 247) none repeat scroll 0% 0%; width: 245px; height: 63px; font-family: arial; font-size: 12px; color: rgb(125, 125, 125); -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="bidders_info[]" onblur="if (this.value == '') this.value = 'Please provide location, availability, and/or contact information for scheduling a site visit.'" onfocus="if (this.value == 'Please provide location, availability, and/or contact information for scheduling a site visit.') this.value = ''">Please provide location, availability, and/or contact information for scheduling a site visit.</textarea></td>
  </tr>
  <tr>
    <td align="right"><input type="radio" value="Not Required"  name="site_visit[]" onclick="javascript:fun_sitevisit('not');">
	<span id='notid' style="display:none"><input type="hidden" name="bidders_info[]" value="Not Required" /></span></td>
    <td style="padding-top:5px;">Not Required </td>
  </tr>

 </tbody></table>
 </div>
 <div class="clear"></div>
</div><br/>

<div class="lineitem_pan_row">
<br />
<div id="i_bar_terms_rfp">
<div id="i_bar_txt_terms_rfp">
<span> <font style="font-weight:bold; color:#FFF;">COMPLIANCE STANDARDS</font></span>
</div></div>

<?php /*?><span class="grey_12">Special Requirements: <a style="text-decoration: none; vertical-align:middle;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=126&amp;Itemid=113"><img style="margin-top: -4px; margin-right: -8px; vertical-align:middle;" alt="info" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon3.png"></a></span><?php */?>

<div class="newspecialrequirements">
<div class="lineitem_pan_row">
<div class="lineitem_pan" style="border:none;">
</div>
<div class="clear"></div>
</div></div>

</div><br><br/><?php /*?><div align="right" id="topborder_row">
</div><?php */?>
<?php /*?><span class="blue_small">How do you want to define the Scope of Work (SOW)? <a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=125&amp;Itemid=113"><img style="margin-top: -4px; margin-right: -8px; vertical-align:middle;" alt="info" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon3.png"></a></span><?php */?>
<div id="i_bar_terms_rfp">
<div id="i_bar_txt_terms_rfp">
<span> <font style="font-weight:bold; color:#FFF;">SCOPE OF WORK (SOW)</font></span>
</div></div>
<br>

<!--  sof line item pan -->
<div class="downloadfile">

<div class="lineitem_pan_row">
<script language="javascript" type="text/javascript">
function show_linetask()
{
	var inputString1=document.getElementById("property_id").value;
	if(!inputString1){
	alert('Please Select Property')
	} else {
	document.getElementById('line_task').style.display='';
	document.getElementById('line_task_first').style.display='';
	document.getElementById('upload_file').style.display='';
	if(document.getElementById("projectName").value!='' && document.getElementById("projectName").value!='Reference')
	document.getElementById("title_task1").value=document.getElementById("projectName").value;
	}
}
//Fun. to show the  specification of other value if it is checked
function specify_other(otherid)
{
	if(otherid==14)
	{
		if(document.getElementById('req_id'+otherid).checked==true)
		document.getElementById('specOther'+otherid).style.display='';
		else
		document.getElementById('specOther'+otherid).style.display='none';
	} else
	document.getElementById('specOther14').style.display='none';
}
</script>
<?php /*?><div>
<input type="radio" name="defsow_who" value="self"  onclick="javascript:showme()"/><strong>Me</strong> - I am ready to define the SOW and create a RFP</div><?php */?>
<table cellspacing="0" cellpadding="0" border="0" width="100%" id="sow_me">
  <tbody>
  <tr>
    <td align="left" valign="top"><input type="radio" name="choose_tasks" value="no" onclick="javascript:show_linetask();" class="lineitemsnew"/></td>
    <td style="padding-top:1px; width:100%">
Define Line Items Manually</td>
  </tr>
  <tr> <td align="left" width="0%" valign="top"><input type="radio" name="choose_tasks"  class="modal"  value="yes" onclick="javascript:show_linetask();"/></td>
    <td style="padding-top:1px;" width="0%">Use RFP Wizard</td>

  </tr>
</tbody></table>

<!-- modified by anand kumar on 21-7-11 -->

<?php /*?><input type="radio" name="defsow_who"  value="someother" onclick="javascript:showsomeone()"/><strong>Someone Else</strong> - This is a presolicitation to define the Scope of Work (SOW)<?php */?>
<table cellspacing="0" cellpadding="0" border="0" width="100%" id="someone_me" style="display:none">
  <tbody>
  <tr> <td align="right" width="7%" valign="top"><input type="radio" name="choose_tasks" onclick="javascript:sowrfp('pro_hired');"   value="1"/></td>
    <td style="padding-top:2px;" width="93%"><strong>SOW is Completed </strong>-I have a completed Scope of Work document to upload.</td>

  </tr>


  <tr> <td align="right" width="7%" valign="top"><input type="radio" name="choose_tasks" onclick="javascript:sowrfp('pro_hired_camassitant');"   value="2"/></td>
    <td style="padding-top:2px;" width="93%"><strong>I Need a SOW Created  </strong>- I would like to hire an <strong>Engineer/Architect </strong> to define the SOW needed to meet our project goals. (This option will allow you to get pricing for the design or design/build of a project). This option will also send your RFP to Engineers and Architects only (regardless of your Industry selection above)</td>
  </tr>
  <tr> <td align="right" colspan="2" valign="top">
		<table width="100%" border="0" cellspacing="0" cellpadding="0" id="someone_engineer" style="display:none">
			<tr> <td align="right" width="12%" valign="top"><input type="radio" name="choose_tasks1" id="choose_tasks1a" onclick="javascript:sowrfp('pro_hired_camassitant1');"   value="2choose"/></td>
				<td style="padding-top:2px;" width="88%" align="left">I would like to use a <strong>Wizard</strong> to help define my project goals. (PREFERRED)</td>
		  </tr>

		  	<tr>
				<td width="12%"></td>
			  <td align="left" valign="top" style="padding-left:7px">
				  <table width="100%" border="0" cellspacing="0" cellpadding="0" id="someone_engineer1" style="display:none">
					<tr> <td align="left" width="19%" valign="top"><input type="radio"  name="choose_tasks2" id="choose_tasks21" onclick="javascript:sowrfp('pro_hired_camassitant1_eng');"   value="Engineer"/><strong>Engineer</strong></td>
				  </tr>
					<tr> <td align="left" width="19%" valign="top"><input type="radio" name="choose_tasks2" id="choose_tasks22" onclick="javascript:sowrfp('pro_hired_camassitant2_arc');"   value="Architect"/><strong>Architect</strong></td>
				  </tr>
				</table>
			  </td>
			  </tr>

			<tr> <td align="right" width="12%" valign="top"><input type="radio" name="choose_tasks1" id="choose_tasks1b" onclick="javascript:sowrfp('pro_hired_camassitant2');"   value="2"/></td>
				<td style="padding-top:2px;" width="88%" align="left">I want to <strong>define</strong> all line <strong>items manually, OR</strong> I prefer to <strong>upload a document</strong> that details the desired project results.</td>
		  </tr>
		  <tr>
				<td width="12%"></td>
			  <td align="left" valign="top" style="padding-left:7px">
				  <table width="100%" border="0" cellspacing="0" cellpadding="0" id="someone_engineer2" style="display:none">
                  <tr> <td align="left" width="19%" valign="top"><input type="radio"  name="choose_tasks3" id="choose_tasks31" onclick="javascript:show_linetask();"   value="Engineer"/><strong>Engineer</strong></td>
				  </tr>
					<tr> <td align="left" width="19%" valign="top"><input type="radio" name="choose_tasks3" id="choose_tasks32" onclick="javascript:show_linetask();"   value="Architect"/><strong>Architect</strong></td>
				  </tr>
					<?php /*?><tr> <td align="left" width="19%" valign="top"><input type="radio"  name="choose_tasks3" id="choose_tasks31" onclick="javascript:sowrfp('pro_hired_camassitant1_eng1');"   value="Engineer"/><strong>Engineer</strong></td>
				  </tr>
					<tr> <td align="left" width="19%" valign="top"><input type="radio" name="choose_tasks3" id="choose_tasks32" onclick="javascript:sowrfp('pro_hired_camassitant2_arc1');"   value="Architect"/><strong>Architect</strong></td>
				  </tr><?php */?>
				</table>
			  </td>
			  </tr>

		</table>
  </td></tr>


  <tr> <td align="right" width="7%" valign="top"><input type="radio" name="choose_tasks"  onclick="javascript:sowrfp('sow_hired');"  value="3"/></td>
    <td style="padding-top:2px;" width="93%"><strong>Professional Consultation Needed</strong> - I want to have up to 3 Industry Professionals perform a site visit and define the SOW, for which I will create a separate RFP. I understand that this SOW is to be completed free of charge, and that I have a responsibility to meet the vendor(s) on-site.</td>

  </tr>
</tbody></table>



<!-- modified ending by anand kumar on 21-7-11 -->

</div>



<div class="clear"></div>
</div>
<!-- eof line item pan -->

<!--  sof line item pan -->
<div class="totalblocks" id='line_task' style="display:none">
<div class="lineitem_pan_rfpline">
<div class="lineitem_pan_row">
<h3 class="lineitemheading">LINE ITEM <span class="blocknumbers">#1</span></h3>
<div class="clr"></div>
<p style="height:8px;"></p>
<strong>Title:</strong><br>
  <input type="text"  id="title_task1"  value="Enter Title of Line Item Task" onblur="if (this.value == '') this.value = 'Enter Title of Line Item Task'"
   onfocus="if (this.value == 'Enter Title of Line Item Task') this.value = ''"  class="other_tfield" style="width: 613px; border: 1px solid rgb(215, 215, 215); padding: 5px;  -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="linetaskname_210[]" >&nbsp;<span class="redstar">*</span>
  <br>
<div class="clear"></div><p style="padding-top: 17px;"></p>
<strong>Description:</strong><br>
<textarea style="border: 1px solid rgb(215, 215, 215); padding: 5px; width: 612px; height: 45px; font-family: arial; font-size: 12px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" class="other_tfield_desc" id="line_taskdesc1" name="task_desc_210[]">
</textarea><span class="redstarnew">*</span>


<div style="float: left; margin-left: -6px; margin-top:5px;">
<table><tr><td>
<input type="checkbox" id="price1" name="is_req_taskvendors_210[]" class="price_lines" value="1" onclick="javascript:check_hiddenvalue(1);"/></td>
<input type="hidden" name="hidden_taskvendors_210[]" value="0" id="hidden_price1" />
<input type="hidden"  name="linetask_uploads_210[]" id="line_uploads10"  >
<input type="hidden" checked="" id="line_taskno" name="line_taskno[]" value="210" >
<td><span>Require Vendors to assign a dollar value to this Line Item</span></td></tr></table>
</div>

<div class="clear"></div>
<span id='upload_file10' style="float:left;width:auto;padding-right:5px; margin-top:25px;"><a class="upload_new_files_rfp" href="javascript:addEventa2('10');"><p style="height:10px;"></p></a></span>
<span id="delimg10" style="display:none" title="Remove From RFP"><img src="templates/camassistant_left/images/red.png" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload_line(10);"  /></span>
<div class="clear"></div>
<div id="newdiva210"></div>
</div>
</div>
<br />
</div>

<!-- eof line item pan -->
<div id="newdiv"></div>
<div id="topborder_row" style="margin-top:20px;">
 </div>
 <div class="clr"></div>
 
<div id="line_task_first" style="display:none;">
<div class="color_butons" style=" float:none; text-align:center;" align="center">
<a href="javascript:addEvent1();" ><img alt="Add another line item task" src="<?php echo Juri::base(); ?>templates/camassistant_left/images/add_another_line.png"></a></div>
</div>
<div class="clr"></div>
<input name="hidden" type="hidden" id="theValue" value="0">
<input name="hidden" type="hidden" id="idval" value="0">

<!--  sof line item pan -->
<?php /* ?><p style="padding-top: 20px;"></p>
<div id="upload_file" style="display:none">
<div class="lineitem_pan_row">
<span class="grey_12">Additional Document/Specifications #1:

</span>
<div style="padding: 10px 0pt 10px 5px; height:30px;" class="lineitem_pan">
<?php /*?><input type="file" name="attachmnent[]" />
<span id="delimg21" style="display:none" title="Remove From RFP"><img src="templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload(21);"  /></span>
<span id='upload_file21' style="float:left;font-size:10px;width:auto;padding-right:5px"><a href="javascript:linetaskupload('21');"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span>
<input type="hidden"  name="attachmnent[]" id="line_uploads21"  >
</div>

<div style="float: left; padding-left: 10px;">
<?php //echo "<pre>"; print_r($_REQUEST); ?>
<span id="requiredoprice21" style="display:none;"  >
<input type="checkbox" name="require_docprice[]" id="docprice1" value="1" onclick="javascript:check_require_docprice(1);" />
<input type="hidden" name="hidden_require_docprice[]" value="0" id="hidden_docprice1" />
<strong>Require</strong> vendors to assign a <strong>Dollar Value </strong>to this Attachment.</span></div>
<div class="color_butons"><a href="javascript:addEvent2();"><img alt="Upload another attachment" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadanother.gif"></a>
</div>
<div class="clear"></div>
</div>
</div>
<!-- eof line item pan -->
	<div id="newdiv2"></div>
	<input name="hidden2" type="hidden" id="theValues" value="0">
	<input name="hidden" type="hidden" id="idvals" value="0">
<!--  sof line item pan -->

<p style="padding-top: 28px;"></p>
<div id="upload_file" style="display:none">
<div class="lineitem_pan_row">
<span class="grey_12">Additional Document/Specifications:

</span>
<div style="padding: 10px 0pt 10px 5px;" class="lineitem_pan">
<?php /*?><input type="file" name="attachmnent[]" />
<!--<span id="delimg21" style="display:none" title="Remove From RFP"><img src="templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload(21);"  /></span> -->
<span id='upload_file21' style="float:left; width:auto;padding-right:5px"><a href="javascript:addEvent2();"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span>
<!--<span id='upload_file21' style="float:left;font-size:10px;width:auto;padding-right:5px"><a href="javascript:linetaskupload('21');"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span>-->
<input type="hidden"  name="attachmnent[]" id="line_uploads21"  >
<div class="clear"></div>
<br/>
<!--<div style="float: left; padding-left: 10px;">
<?php //echo "<pre>"; print_r($_REQUEST); ?>
<span id="requiredoprice21" style="display:none;"  >
<input type="checkbox" name="require_docprice[]" id="docprice1" value="1" onclick="javascript:check_require_docprice(1);" />
<input type="hidden" name="hidden_require_docprice[]" value="0" id="hidden_docprice1" />
<strong>Require</strong> vendors to assign a <strong>Dollar Value </strong>to this Attachment.</span></div>
<div class="color_butons"><a href="javascript:addEvent2();"><img alt="Upload another attachment" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadanother.gif"></a>
</div>
<div class="clear"></div>-->

<!-- eof line item pan -->
	<div id="newdiv2"></div>
	<input name="hidden2" type="hidden" id="theValues" value="0">
	<input name="hidden" type="hidden" id="idvals" value="0">
<!--  sof line item pan -->
</div></div><div class="clear"></div>
</div><br/>
<?php */ ?>
<!-- eof line item pan -->

<script language="javascript" type="text/javascript">
//G = jQuery.noConflict();
function format_val(id,fieldname,fieldvalue){
G.post("index2.php?option=com_camassistant&controller=proposals&task=vendor_proposal_edit_format_val", {id: ""+id+"",fieldname: ""+fieldname+"",fieldvalue:""+fieldvalue+""}, function(data){
if(data.length >0) {
var x= fieldname+id;
G("#"+id).val(data);
//E("#task_price1").val(data);
}
});
}
function add_commas(x,id)
{

   //  test strString consists of valid characters listed above
    var strValidChars = "0123456789.,";
   var strChar;
   var blnResult = true;
   for (i = 0; i < x.length && blnResult == true; i++)
      {
      strChar = x.charAt(i);
      if (strValidChars.indexOf(strChar) == -1)
         {
         blnResult = false;
         }
      }
	  if(blnResult == false)
	  {
   		alert('Please enter valid number');
		document.getElementById(id).value = parseFloat(0).toFixed(2)+'';
	  } else {
		var val = parseFloat(x).toFixed(2)+'',
			  rgx = /(\d+)(\d{3}[\d,]*\.\d{2})/;
		  while (rgx.test(val)) {
			val = val.replace(rgx, '$1' + ',' + '$2');
		  }
		document.getElementById(id).value = val;
	 }
}
/*function add_commas(x,id)
{
	//alert(x)
	var val = x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
	document.getElementById(id).value = val;
}
*/</script>
<p style="height:30px"></p>
<?php /*?><table width="100%">
    <tbody><tr>
      <td align="left" width="4%" valign="middle"><input type="checkbox" value="terms" name="terms"></td>
      <td height="50" width="96%" valign="middle">I have read and agree to the <strong>Terms and Conditions</strong> of this website.<span class="redstar">*</span></td>
    </tr>
  </tbody></table><?php */?>
<input type="hidden" value="terms" name="terms" checked="checked">

<div align="center" id="topborder_row">
<input type="button" class="cancelrfpbutton"  onclick="javascript:fn_submitRFPd('cancel');"/>
<input type="button" class="saveasdraft"  name="draft" onclick="javascript:fn_submitRFPd('draft');"/>
<input type="button" class="review_submit" name="rfpbtn" onclick="javascript:fn_submitRFP('review');"/>
</div>
<input type="hidden" name="option" value="com_camassistant" />
<input type="hidden" name="task" value="" />
<input type="hidden" name="rfp_type" value="review" />
<input type="hidden" name="controller" value="rfp" />
<input type="hidden" name="Itemid" value="<?php echo $_REQUEST['Itemid'];?>" />
<input type="hidden" name="rfpfor" value="<?php echo $_REQUEST['Itemid'];?>" />
<?php echo JHTML::_( 'form.token' ); ?>

</form>

</div>
</div>
<!-- eof table pan -->

</div>
<?php } } ?>