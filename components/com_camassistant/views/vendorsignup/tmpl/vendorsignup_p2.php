<?php
/**
 * @version		1.0.0 camassistant $
 * @package		camassistant
 * @copyright	Copyright ï¿½ 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author		
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');
JHTML::_('behavior.modal');
$payment = $this->Payment_details;
//echo "<pre>"; print_r($_REQUEST);
?>


<link rel="stylesheet" media="all" type="text/css" href="<?php echo Juri::base(); ?>components/com_camassistant/skin/css/jquery1.css" />		
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery-ui-1.8.6.custom.min.js"></script>
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/js/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript">

G = jQuery.noConflict();
function verifyuser(){	
	inputString=G('#email').val();
	//alert(inputString);
		G.post("index2.php?option=com_camassistant&controller=propertymanager&task=verfiryuser", {queryString: ""+inputString+""}, function(data){
		
		if(data==''){
		G('#user-email').css('display','none');
		G('#user-email').html('<font color="#FF0000"></font>');
		}else{
	    G('#user-email').html('<font color="#FF0000">Email Already Exists</font>');
		}
		});
	}
	
	
//function to validate user mail id
/*G = jQuery.noConflict();
function verifyuser(){	
var frm = document.VendorForm2;
	inputString=G('#email').val();
	inputString1=G('#vemail').val();
	//alert(inputString1);
		//G.post("index2.php?option=com_camassistant&controller=propertymanager&task=verfiryuser", {queryString: ""+inputString+""}, function(data){
		//alert(data);
		if(inputString == inputString1){
		G('#user_email').css('display','none');
		G('#user_email').val('');
		}else{
	    G('#user_email').css('display','block');
		G('#user_email').val('Email and verify email address are not matching');
		 /*alert('Please enter your email ID');
 		frm.email.focus();
  		return ;*/
		//}
		//});*/
	//alert(inputString);
		/*G.post("index2.php?option=com_camassistant&controller=propertymanager&task=verfiryuser", {queryString: ""+inputString+""}, function(data){
		//alert(data);
		if(data==''){
		G('#user-email').css('display','none');
		}else{
	    G('#user-email').html('<font color="#FF0000">Email Already Exists</font>');
		}
		});*/
	//}

//G = jQuery.noConflict();
function apply_promo(promocode,is_checked){	
//if(is_checked == true)
//amount = '499';
//else
//amount = '149';
amount = G('#pay_amount').val() ;
amount = amount.replace("$",""); 
if(document.getElementById('promo_code').value == '')
 { 
 alert('Please enter Promo Code'); 
 document.getElementById('promo_code').focus();
 return false;
  }

G("#promo_msg").html('<img src="templates/camassistant_left/images/final_loading_promo.gif" />'); 
G.post("index2.php?option=com_camassistant&controller=vendorsignup&task=ajax_appyly_promocode", {promocode: ""+promocode+"",amount: ""+amount+""}, function(data){
	if(data.length >0)
	{
		var splitIt = data.split('AND');
		G("#promo_msg").html(''); 	
	   var discount = splitIt[1];
	   alert(data);
	   alert(G('#pay_amount').val());
	   alert(splitIt[0]);
	   if(discount == '0')
	   {
		G("#promo_msg").html('Promo Code is Invalid');
	   }
	  
	   else if(G('#pay_amount').val() == splitIt[0])
	  {
	  alert('Already Applied Promocode'); 
	  return false;
	 }
	   else 
	   {
	   G("#promo_msg").html('You got '+discount+' dollar(s) discount.');
	   }
	    G("#pay_amount").val(splitIt[0]);
		G('#pay_amount_span').html('$'+splitIt[0]);
	}
});
}

//Function to check subscription promo codes
G (function(){
G('.sameclass').each(function(){
	G(this).click(function(){
		previous_amount = G('#pay_amount').val() ;
		previous_amount = previous_amount.replace("$","");
		if(G(this).is(':checked')){
		finalamount = parseInt(previous_amount) + parseInt(G(this).val()) ;
		G('#pay_amount_span').html('$'+finalamount+'.00/Year');
		G("#pay_amount").val(finalamount);
		}	
		else{
		finalamount = parseInt(previous_amount) - parseInt(G(this).val()) ;
		G('#pay_amount_span').html('$'+finalamount+'.00/Year');
		G("#pay_amount").val(finalamount);
		}
	}
	);
}
);
}
);
function getpublicprofile(amount){
	if(G('#promo_code').val() == '') {
		if(document.getElementById('publicprofile').checked == true){
		first_amount = 50 ;
		final_amount = first_amount ;
		}
		if(document.getElementById('sponserprofile').checked == true){
		second_amount = 100 ;
		final_amount = second_amount ;
		}
		if(document.getElementById('sponserprofile').checked == true && document.getElementById('publicprofile').checked == true){
		final_amount = parseInt(first_amount) + parseInt(second_amount) ;
		}
		if(document.getElementById('sponserprofile').checked != true && document.getElementById('publicprofile').checked != true){
		final_amount = 0 ;
		}
	finalamount = parseInt(final_amount) + 149 ;
	G('#pay_amount_span').html('$'+finalamount+'.00/Year');
	G("#pay_amount").val(finalamount);
	}
	
	else{
		/*previous_amount = G('#pay_amount').val() ;
		previous_amount = previous_amount.replace("$",""); 
		if(document.getElementById('publicprofile').checked == true){
		first_amount = previous_amount ;
		final_amount = first_amount ;
		}
		if(document.getElementById('sponserprofile').checked == true){
		second_amount = previous_amount ;
		final_amount = second_amount ;
		alert(final_amount);
		}
		if(document.getElementById('sponserprofile').checked == true && document.getElementById('publicprofile').checked == true){
		final_amount = parseInt(first_amount) + parseInt(second_amount) ;
		}
		if(document.getElementById('sponserprofile').checked != true && document.getElementById('publicprofile').checked != true){
		final_amount = 0 ;
		}
		alert(final_amount);*/
		
	//finalamount = parseInt(final_amount) + 149 ;
	G('#pay_amount_span').html('$'+final_amount+'.00/Year');
	G("#pay_amount").val(final_amount);
	}
}

//Completed
function phone_Valid(e)
{}

///////////////////sateesh
var zChar = new Array(' ', '(', ')', '-', '.');
var maxphonelength = 14;
var phonevalue1;
var phonevalue2;
var cursorposition;

function ParseForNumber1(object){
  phonevalue1 = ParseChar(object.value, zChar);
}

function ParseForNumber2(object){
  phonevalue2 = ParseChar(object.value, zChar);
}

function backspacerUP(object,e) {

  if(e){
    e = e
  } else {
    e = window.event
  }
  if(e.which){
    var keycode = e.which
  } else {
    var keycode = e.keyCode
  }

  ParseForNumber1(object)

  if(keycode >= 48){
    ValidatePhone(object)
  }
}

function backspacerDOWN(object,e) {
document.getElementById("company_phone").style.color = '#636363';
  if(e){
    e = e
  } else {
    e = window.event
  }
  if(e.which){
    var keycode = e.which
  } else {
    var keycode = e.keyCode
  }
  ParseForNumber2(object)
}

function onblurphone(phone){
if(phone == ''){
document.getElementById("company_phone").style.color = '#E1E1E1';
document.getElementById("company_phone").value = 'without spaces or dashes';
}
}

function GetCursorPosition(){

  var t1 = phonevalue1;
  var t2 = phonevalue2;
  var bool = false
  for (i=0; i<t1.length; i++)
  {
    if (t1.substring(i,1) != t2.substring(i,1)) {
      if(!bool) {
        cursorposition=i
        window.status=cursorposition
        bool=true
      }
    }
  }
}

function ValidatePhone(object){

  var p = phonevalue1

  p = p.replace(/[^\d]*/gi,"")

  if (p.length < 3) {
    object.value=p
  } else if(p.length==3){
    pp=p;
    d4=p.indexOf('(')
    d5=p.indexOf(')')
    if(d4==-1){
      pp="("+pp;
    }
    if(d5==-1){
      pp=pp+")";
    }
    object.value = pp;
  } else if(p.length>3 && p.length < 7){
    p ="(" + p;
    l30=p.length;
    p30=p.substring(0,4);
    p30=p30+") "

    p31=p.substring(4,l30);
    pp=p30+p31;

    object.value = pp;

  } else if(p.length >= 7){
    p ="(" + p;
    l30=p.length;
    p30=p.substring(0,4);
    p30=p30+") "

    p31=p.substring(4,l30);
    pp=p30+p31;

    l40 = pp.length;
    p40 = pp.substring(0,9);
    p40 = p40 + "-"

    p41 = pp.substring(9,l40);
    ppp = p40 + p41;

    object.value = ppp.substring(0, maxphonelength);
  }

  GetCursorPosition()

  if(cursorposition >= 0){
    if (cursorposition == 0) {
      cursorposition = 2
    } else if (cursorposition <= 2) {
      cursorposition = cursorposition + 1
    } else if (cursorposition <= 4) {
      cursorposition = cursorposition + 3
    } else if (cursorposition == 5) {
      cursorposition = cursorposition + 3
    } else if (cursorposition == 6) {
      cursorposition = cursorposition + 3
    } else if (cursorposition == 7) {
      cursorposition = cursorposition + 4
    } else if (cursorposition == 8) {
      cursorposition = cursorposition + 4
      e1=object.value.indexOf(')')
      e2=object.value.indexOf('-')
      if (e1>-1 && e2>-1){
        if (e2-e1 == 4) {
          cursorposition = cursorposition - 1
        }
      }
    } else if (cursorposition == 9) {
      cursorposition = cursorposition + 4
    } else if (cursorposition < 11) {
      cursorposition = cursorposition + 3
    } else if (cursorposition == 11) {
      cursorposition = cursorposition + 1
    } else if (cursorposition == 12) {
      cursorposition = cursorposition + 1
    } else if (cursorposition >= 13) {
      cursorposition = cursorposition
    }

    var txtRange = object.createTextRange();
    txtRange.moveStart( "character", cursorposition);
    txtRange.moveEnd( "character", cursorposition - object.value.length);
    txtRange.select();
  }

}

function ParseChar(sStr, sChar)
{

  if (sChar.length == null)
  {
    zChar = new Array(sChar);
  }
    else zChar = sChar;

  for (i=0; i<zChar.length; i++)
  {
    sNewStr = "";

    var iStart = 0;
    var iEnd = sStr.indexOf(sChar[i]);

    while (iEnd != -1)
    {
      sNewStr += sStr.substring(iStart, iEnd);
      iStart = iEnd + 1;
      iEnd = sStr.indexOf(sChar[i], iStart);
    }
    sNewStr += sStr.substring(sStr.lastIndexOf(sChar[i]) + 1, sStr.length);

    sStr = sNewStr;
  }

  return sNewStr;
}

///////////sateesh//////////////////



function check_uncheck()
{
 var frm = document.VendorForm2;
 if(frm.is_checked.checked == true)
 {
 	frm.address.value = frm.company_address.value;
	frm.address2.value = frm.company_addresss.value;
	frm.bill_city.value = frm.city.value;
	frm.bill_states.value = frm.states.value;
	frm.bill_zipcode.value = frm.zipcode.value;
	frm.name_on_card.value = frm.name.value+' '+frm.lastname.value;
	/* frm.bill_companyname.value = frm.company_name.value; */
 }
 else if(frm.is_checked.checked == false)
 {
 	frm.address.value = '';
	frm.address2.value = '';
	frm.bill_city.value = '';
	frm.bill_states.value = '0';
	frm.bill_zipcode.value = '';
	frm.name_on_card.value = '';
	/*frm.bill_companyname.value = '';*/
 }
 
}
</script> 

<?PHP if($payment->payment_type == 'Authorize') { ?>
<script type="text/javascript" src="<?php echo Juri::base(); ?>components/com_camassistant/assets/js/Creditcard_validations.js">
</script>
<?PHP } else if($payment->payment_type == 'Paypal'){ ?>

<script type="text/javascript" >
var form = document.VendorForm2;
/*var Cards = new makeArray(8);
Cards[0] = new CardType("MasterCard", "51,52,53,54,55", "16");
var MasterCard = Cards[0];
Cards[1] = new CardType("VisaCard", "4", "13,16");
var VisaCard = Cards[1];
Cards[2] = new CardType("AmExCard", "34,37", "15");
var AmExCard = Cards[2];
Cards[3] = new CardType("DinersClubCard", "30,36,38", "14");
var DinersClubCard = Cards[3];
Cards[4] = new CardType("DiscoverCard", "6011", "16");
var DiscoverCard = Cards[4];
Cards[5] = new CardType("enRouteCard", "2014,2149", "15");
var enRouteCard = Cards[5];
Cards[6] = new CardType("JCBCard", "3088,3096,3112,3158,3337,3528", "16");
var JCBCard = Cards[6];
var LuhnCheckSum = Cards[7] = new CardType();
*/
function validate_fields()
{
var form = document.VendorForm2;

//var form = document.Vendor_BillForm2;
/*if(form.company_name.value == '')
 {
 alert('Please enter your company name');
 form.company_name.focus();
 return false;
 }*/
var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
var address = form.email.value;
var address1 = form.vemail.value;
var regex_name=/^[\u002a\u002b\u003d\u003f\u0040\u0020-\u0027\u002d-u002f\u0030-\u0039\u0041-\u005a\u005e-\u007e]+$/;	
var anotheremail = form.ccemail.value;
var t_phone = form.company_phone1.value+form.company_phone2.value+form.company_phone3.value;
var count_phone = t_phone.replace(/\D/g, '').length;

var t_fax = form.fax_1.value+form.fax_2.value+form.fax_3.value;
var count_fax = t_fax.replace(/\D/g, '').length;


 if(form.name.value == '')
 {
 alert('Please enter your name');
 form.name.focus();
 return false;
 }
  if(regex_name.test(form.name.value) == false){
 alert('Please remove the extended ASCII characters from the first name.');
  form.name.focus();
 return;
}

 else {
var iChars = "!@#$%^&*()+=-[]\\\';,./{}|\":<>?";
for (var i = 0; i < form.name.value.length; i++) {
    if (iChars.indexOf(form.name.value.charAt(i)) != -1) {
    alert ("You are not allowed to create the name containing "+iChars+".");
	form.name.focus();
    return false;
        }	
    }
}


 if(form.lastname.value == '')
 {
 alert('Please enter your name');
 form.lastname.focus();
 return false;
 }
 
  if(regex_name.test(form.lastname.value) == false){
 alert('Please remove the extended ASCII characters from the last name.');
  form.lastname.focus();
 return;

}

 else {
var iChars = "!@#$%^&*()+=-[]\\\';,./{}|\":<>?";
for (var i = 0; i < form.lastname.value.length; i++) {
    if (iChars.indexOf(form.lastname.value.charAt(i)) != -1) {
    alert ("You are not allowed to create the lastname containing "+iChars+".");
	form.lastname.focus();
    return false;
        }	
    }
}

  if(reg.test(address) == false) {
      alert('Invalid Email Address');
 form.email.focus();	  
      return;
   }
   
 else if(form.email.value == '')
 {
 alert('Please enter your email address');
 form.email.focus();
 return false;
 }
 else if(reg.test(address1) == false) {
      alert('Invalid Email Address');
      return;
   }
 else if(form.vemail.value == '')
 {
 alert('Please enter your Verify email address');
 form.vemail.focus();
 return false;
 }
 else if(form.email.value != form.vemail.value)
 {
 alert('Email address does not match');
 form.vemail.focus();
 return false;
 }

else if(document.getElementById('user-email').innerHTML.length == '49') {
 alert("Email Already Exists. Please enter another email id");
  form.email.focus();
 return false;
}		
else if(document.getElementById('user-email').innerHTML.length != '49'){
inputString=G('#email').val();
		G.post("index2.php?option=com_camassistant&controller=propertymanager&task=verfiryuser", {queryString: ""+inputString+""}, function(data){
		if(data != ''){
		alert("Email Already Exists.");
		return false;
		}
		else{
		return true;
		}
		});
		
}


// To check the CC email address
	
	if(anotheremail) {
	
	var newemail = form.ccemail.value ;
	var ccemail = (newemail).split('.com');	
	var s = ccemail;
	var re = /,/g;
	for( var c = 0; re.exec(s); ++c );
	if(ccemail != '' && c>1){
			for (var i =1; i < ccemail.length-1; i++)
			 {		
			   if(ccemail[i].charAt(0) != ";"){
				 alert('Please separate the CC Emails with Semi colon(;)');
				 form.ccemail.focus();
				 return false;  
				}
			 }	
	}
	}		
	
//Completed


 else if(form.company_address.value == '')
 {
 alert('Please enter your address');
 form.company_address.focus();
 return false;
 }
 else if(form.city.value == '')
 {
 alert('Please enter your city');
 form.city.focus();
 return false;
 }
 else if(form.states.value == '0')
 {
 alert('Please select state');
 form.states.focus();
 return false;
 }
  else if(form.zipcode.value == '')
 {
 alert('Please enter your Zipcode');
 form.zipcode.focus();
 return false;
 }
  else if(form.company_phone1.value == '' || form.company_phone2.value == '' || form.company_phone3.value == '' )
 {
 alert('Please enter your company phone number');
 form.company_phone1.value='';
 form.company_phone2.value='';
 form.company_phone3.value='';
 form.company_phone1.focus();
 return false;
 }
 else if( count_phone < '10' ){
 	 alert('Please enter your exact 10 digits company phone number');
 	 form.company_phone1.value='';
	 form.company_phone2.value='';
	 form.company_phone3.value='';
	 form.company_phone1.focus();
	 return false;
 }
 else if(form.fax_1.value != '' || form.fax_2.value != '' || form.fax_3.value != '' )
 {
 	if( count_fax < '10' ){
 	alert('Please enter your exact 10 digits FAX number');
 	 form.fax_1.value='';
	 form.fax_2.value='';
	 form.fax_3.value='';
	 form.fax_1.focus();
	 return false;
	 }
 }
var tmpyear;
/*if (form.name_on_card.value == '' && form.pay_amount.value != 0) {
alert("Please enter Name on Card.");
form.name_on_card.focus();
return;
}
else if (form.address.value == '' && form.pay_amount.value != 0) {
alert("Please enter billing address.");
form.address.focus();
return;
}
else if (form.bill_city.value == '' && form.pay_amount.value != 0) {
alert("Please enter billing city.");
form.bill_city.focus();
return;
}
else if(form.bill_states.value == '0' && form.pay_amount.value != 0)
{
alert('Please select billing state');
form.bill_states.focus();
return false;
}

else if(form.bill_zipcode.value == '' && form.pay_amount.value != 0)
{
alert('Please select billing zipcode');
form.bill_zipcode.focus();
return false;
}*/
/*else if (form.CardNumber.value.length == 0 && form.pay_amount.value != 0) {
alert("Please enter a Card Number.");
form.CardNumber.focus();
return;
}*/

		
if (form.hear.value == '') {
alert("Please fill how did you hear about us.");
form.hear.focus();
return;
}
/*else if(form.bill_companyname.value == '') {
alert("Please enter Company Name.");
form.bill_companyname.focus();
return;
}*/
/*if (form.ExpYear.value.length == 0 && form.pay_amount.value != 0) {
alert("Please enter the Expiration Year.");
form.ExpYear.focus();
return;
}
if(form.pay_amount.value != 0)
{
	if (form.ExpYear.value > 1996)
	tmpyear = form.ExpYear.value;
	//tmpyear = "19" + form.ExpYear.value;
	else if (form.ExpYear.value < 2021)
	//tmpyear = "20" + form.ExpYear.value;
	tmpyear = form.ExpYear.value;
	else {
	alert("The Expiration Year is not valid.");
	return;
	}
	tmpmonth = form.ExpMon.options[form.ExpMon.selectedIndex].value;
	// The following line doesn't work in IE3, you need to change it
	// to something like "(new CardType())...".
	// if (!CardType().isExpiryDate(tmpyear, tmpmonth)) 
	if (!(new CardType()).isExpiryDate(tmpyear, tmpmonth)) {
	alert("This card has already expired.");
	return;
	}
	card = form.CardType.options[form.CardType.selectedIndex].value;
	var retval = eval(card + ".checkCardNumber(\"" + form.CardNumber.value +
	"\", " + tmpyear + ", " + tmpmonth + ");");
	cardname = "";
}*/

/*if(!retval && form.pay_amount.value != 0) {
// The cardnumber has the valid luhn checksum, but we want to know which
// cardtype it belongs to.
for (var n = 0; n < Cards.size; n++) {
if (Cards[n].checkCardNumber(form.CardNumber.value, tmpyear, tmpmonth)) {
cardname = Cards[n].getCardType();
break;
   }
}
if (cardname.length > 0) {
alert("This looks like a " + cardname + " number, not a " + card + " number.");
}
else {
alert("This card number is not valid.");
return;
//form.CardNumber.value = '';
//form.CardNumber.focus();
      }
   }*/
   

  if(form.checkbox.checked == false)
 {
	 alert('Please check terms & conditions');
	 form.checkbox.focus();
	 return false;
 }
 else if(form.checkbox2.checked == false)
 {
	 alert('Please check required fields');
	 form.checkbox2.focus();
	 return false;
 }
	
if (form.question.value == '') {

alert("Please select the Question.");
form.question.focus();
return;
}
if (form.answer.value == '') {
alert("Please fill the answer.");
form.answer.focus();
return;
}

  if(form.company_phone1.value || form.company_phone2.value || form.company_phone3.value){
 		//phone = form.company_phone.value ;
		//phone = phone.replace(" ","-"); 
		//phone = phone.replace("(",""); 
		//phone = phone.replace(")",""); 
		phone = form.company_phone1.value+form.company_phone2.value+form.company_phone3.value;
		G.post("index2.php?option=com_camassistant&controller=vendors&task=verfiryphonenumber", {queryString: ""+phone+""}, function(pdata){
		if(pdata == 'valid'){
		form.submit();
		}
		else{
		alert("This Phone Number is already being used by another member. Please use a different number or contact MyVendorCenter regarding this issue.");
		return false;
		}
		});
}		
// comment this out if used on an order form
//alert("This card number appears to be valid.");

}

/*function CardType() {
var n;
var argv = CardType.arguments;
var argc = CardType.arguments.length;

this.objname = "object CardType";

var tmpcardtype = (argc > 0) ? argv[0] : "CardObject";
var tmprules = (argc > 1) ? argv[1] : "0,1,2,3,4,5,6,7,8,9";
var tmplen = (argc > 2) ? argv[2] : "13,14,15,16,19";

this.setCardNumber = setCardNumber;  // set CardNumber method.
this.setCardType = setCardType;  // setCardType method.
this.setLen = setLen;  // setLen method.
this.setRules = setRules;  // setRules method.
this.setExpiryDate = setExpiryDate;  // setExpiryDate method.

this.setCardType(tmpcardtype);
this.setLen(tmplen);
this.setRules(tmprules);
if (argc > 4)
this.setExpiryDate(argv[3], argv[4]);

this.checkCardNumber = checkCardNumber;  // checkCardNumber method.
this.getExpiryDate = getExpiryDate;  // getExpiryDate method.
this.getCardType = getCardType;  // getCardType method.
this.isCardNumber = isCardNumber;  // isCardNumber method.
this.isExpiryDate = isExpiryDate;  // isExpiryDate method.
this.luhnCheck = luhnCheck;// luhnCheck method.
return this;
}*/

/*function checkCardNumber() {
var argv = checkCardNumber.arguments;
var argc = checkCardNumber.arguments.length;
var cardnumber = (argc > 0) ? argv[0] : this.cardnumber;
var year = (argc > 1) ? argv[1] : this.year;
var month = (argc > 2) ? argv[2] : this.month;

this.setCardNumber(cardnumber);
this.setExpiryDate(year, month);

if (!this.isCardNumber())
return false;
if (!this.isExpiryDate())
return false;

return true;
}*/
/*************************************************************************\
String getCardType()
return the cardtype.
\*************************************************************************/
/*function getCardType() {
return this.cardtype;
}*/
/*************************************************************************\
String getExpiryDate()
return the expiry date.
\*************************************************************************/
/*function getExpiryDate() {
return this.month + "/" + this.year;
}*/
/*************************************************************************\
boolean isCardNumber([String cardnumber])
return true if cardnumber pass the luhncheck and the rules, else return
false.
\*************************************************************************/
/*function isCardNumber() {
var argv = isCardNumber.arguments;
var argc = isCardNumber.arguments.length;
var cardnumber = (argc > 0) ? argv[0] : this.cardnumber;
if (!this.luhnCheck())
return false;

for (var n = 0; n < this.len.size; n++)
if (cardnumber.toString().length == this.len[n]) {
for (var m = 0; m < this.rules.size; m++) {
var headdigit = cardnumber.substring(0, this.rules[m].toString().length);
if (headdigit == this.rules[m])
return true;
}
return false;
}
return false;
}*/

/*************************************************************************\
boolean isExpiryDate([int year, int month])
return true if the date is a valid expiry date,
else return false.
\*************************************************************************/
/*function isExpiryDate() {
var argv = isExpiryDate.arguments;
var argc = isExpiryDate.arguments.length;

year = argc > 0 ? argv[0] : this.year;
month = argc > 1 ? argv[1] : this.month;

if (!isNum(year+""))
return false;
if (!isNum(month+""))
return false;
today = new Date();
expiry = new Date(year, month);
if (today.getTime() > expiry.getTime())
return false;
else
return true;
}*/

/*************************************************************************\
boolean isNum(String argvalue)
return true if argvalue contains only numeric characters,
else return false.
\*************************************************************************/
/*function isNum(argvalue) {
argvalue = argvalue.toString();

if (argvalue.length == 0)
return false;

for (var n = 0; n < argvalue.length; n++)
if (argvalue.substring(n, n+1) < "0" || argvalue.substring(n, n+1) > "9")
return false;

return true;
}
*/
/*************************************************************************\
boolean luhnCheck([String CardNumber])
return true if CardNumber pass the luhn check else return false.
Reference: http://www.ling.nwu.edu/~sburke/pub/luhn_lib.pl
\*************************************************************************/
/*function luhnCheck() {
var argv = luhnCheck.arguments;
var argc = luhnCheck.arguments.length;

var CardNumber = argc > 0 ? argv[0] : this.cardnumber;

if (! isNum(CardNumber)) {
return false;
  }

var no_digit = CardNumber.length;
var oddoeven = no_digit & 1;
var sum = 0;

for (var count = 0; count < no_digit; count++) {
var digit = parseInt(CardNumber.charAt(count));
if (!((count & 1) ^ oddoeven)) {
digit *= 2;
if (digit > 9)
digit -= 9;
}
sum += digit;
}
if (sum % 10 == 0)
return true;
else
return false;
}
*/
/*************************************************************************\
ArrayObject makeArray(int size)
return the array object in the size specified.
\*************************************************************************/
/*function makeArray(size) {
this.size = size;
return this;
}*/

/*************************************************************************\
CardType setCardNumber(cardnumber)
return the CardType object.
\*************************************************************************/
/*function setCardNumber(cardnumber) {
this.cardnumber = cardnumber;
return this;
}*/

/*************************************************************************\
CardType setCardType(cardtype)
return the CardType object.
\*************************************************************************/
/*function setCardType(cardtype) {
this.cardtype = cardtype;
return this;
}*/

/*************************************************************************\
CardType setExpiryDate(year, month)
return the CardType object.
\*************************************************************************/
function setExpiryDate(year, month) {
this.year = year;
this.month = month;
return this;
}

/*************************************************************************\
CardType setLen(len)
return the CardType object.
\*************************************************************************/
/*function setLen(len) {
// Create the len array.
if (len.length == 0 || len == null)
len = "13,14,15,16,19";

var tmplen = len;
n = 1;
while (tmplen.indexOf(",") != -1) {
tmplen = tmplen.substring(tmplen.indexOf(",") + 1, tmplen.length);
n++;
}
this.len = new makeArray(n);
n = 0;
while (len.indexOf(",") != -1) {
var tmpstr = len.substring(0, len.indexOf(","));
this.len[n] = tmpstr;
len = len.substring(len.indexOf(",") + 1, len.length);
n++;
}
this.len[n] = len;
return this;
}*/

/*************************************************************************\
CardType setRules()
return the CardType object.
\*************************************************************************/
/*function setRules(rules) {
// Create the rules array.
if (rules.length == 0 || rules == null)
rules = "0,1,2,3,4,5,6,7,8,9";
  
var tmprules = rules;
n = 1;
while (tmprules.indexOf(",") != -1) {
tmprules = tmprules.substring(tmprules.indexOf(",") + 1, tmprules.length);
n++;
}
this.rules = new makeArray(n);
n = 0;
while (rules.indexOf(",") != -1) {
var tmpstr = rules.substring(0, rules.indexOf(","));
this.rules[n] = tmpstr;
rules = rules.substring(rules.indexOf(",") + 1, rules.length);
n++;
}
this.rules[n] = rules;
return this;
}
*/

</script>
<?PHP } ?>
<script type="text/javascript" >
function validate_company_represents(){
	if(document.getElementById("company_represents").checked == true)
	{
	document.getElementById("represents").style.display='';
	var pay_amnt = document.getElementById('pay_amount').value;
	var promo_code = document.getElementById('promo_code').value;
		if(pay_amnt != '149' && pay_amnt != '149.00' && promo_code != '')
		{
		
		document.getElementById('pay_amount').value = parseFloat(pay_amnt) + parseFloat('400');
		var total = parseFloat(pay_amnt) + parseFloat('400') ;
		G('#pay_amount_span').html('$'+total);
		} 
		else{
		
		document.getElementById('pay_amount').value = '499';
		//document.getElementById('pay_amount_span').innerHTML = '499';
		G('#pay_amount_span').html('$499');
		}
	}
	else
	 {
	document.getElementById("represents").style.display='none';
	var pay_amnt = document.getElementById('pay_amount').value;
	var val = parseFloat(pay_amnt)-parseFloat(400);
	var val = Math.round(val*100)/100;
	document.getElementById('pay_amount').value=val;
	G('#pay_amount_span').html('$'+val);
	//document.getElementById('promo_code').value = '';
	 //G('#promo_msg').html('');
	}
}
function moveOnMax(field,nextFieldID){

  if(field.value.length >= field.maxLength){
    document.getElementById(nextFieldID).focus();
  }
}
</script>
<?php //echo "<pre>"; print_r($_REQUEST); ?>
<div id="leval_bg482">
<ul>
<img alt="step1" src="templates/camassistant_inner/images/step1.png" mce_src="templates/camassistant_inner/images/step1.png" align="left" height="25" width="77">
<li class="checkout"><a>A</a></li>
<li class="checkout"><a class="active">B</a></li>
<li class="checkout"><a>C</a></li>
</ul>
</div>
<p style="height:50px;"></p>

<form enctype="multipart/form-data" method="post" name="VendorForm2"  class="form-validate" autocomplete="off">
<div id="vender_right2">
<?php //echo "<pre>"; print_r($_SESSION); ?>
<?php if ($_REQUEST['email']=='exits') { ?>
<div><ul><li>
<strong><a href="index.php?option=com_user&view=login&Itemid=<?php echo $_REQUEST['Itemid']; ?>" style="color:red;" >Log in</a></strong></li>
<li>
<strong>Go to the " <a href="index.php?option=com_user&view=reset&Itemid=<?php echo $_REQUEST['Itemid']; ?>" style="color:red;" >Forgot my Password</a> " screen, or </strong></li><li><strong>Input a different email address and re-validate.</strong> </li></ul></div>
<?php } ?>

<!-- sof dotshead -->
<?php /*?><div id="dotshead">PAY MY ONE - TIME REGISTRATION AND PRE - SCREENING FEE</div><?php */?>
<!-- eof dotshead -->


<br />
<!-- sof table pan -->
<div class="table_pannel">
<div class="head_greenbg">COMPANY INFORMATION </div>
<div class="table_panneldiv2">

  <table width="100%" cellspacing="0">
    <tr>
      <td width="24%" height="35" align="left" bgcolor="#ebebeb">Company Name:<span class="redstar"> *</span></td>
      <td width="76%" bgcolor="#ebebeb">
	  <?php if($_SESSION['vsignup']['company_name']=='') { ?>
          <input type="text" name="company_name" id="company_name"  value="<?PHP echo htmlentities($this->company_name); ?>" />
         <?php } else {  ?>
	     <input type="text" name="company_name" id="company_name"  value="<?PHP echo $_SESSION['vsignup']['company_name']; ?>"/>
      	 <?php } ?>
            <?php unset($_SESSION['company_name']); ?>	
        </td>
    </tr>
	
    <tr>
      <td height="35" align="left" bgcolor="#ebebeb">Contact Name: <span class="redstar">*</span></td>
      <td bgcolor="#ebebeb"> <!--<select name="salutation" id="select" >
			<option>Mr.</option>
			<option>Mrs.</option>
			<option>Ms.</option>

</select>-->
     
      <input name="name" type="text" id="name"  style="width:90px;" value="<?PHP echo $_SESSION['vsignup']['name']; ?>"/>
      <input name="lastname" type="text" id="lastname" style="width:90px;" value="<?PHP echo $_SESSION['vsignup']['lastname']; ?>" /> 
      </td>
    </tr>
    <tr>
      <td height="35" align="left" bgcolor="#ebebeb"><label id="emailmsg" for="email">
      <p>E-mail Address: <span class="redstar">*</span></p>
      </label><!--onblur="verifyuser();"-->
        <p class="name" >(Your Username)</p></td>
      <td bgcolor="#ebebeb"> <input type="text" name="email" id="email" onblur="verifyuser();"  value="<?PHP echo $_SESSION['vsignup']['email']; ?>"  class="inputbox required validate-email" /><label id="user-email"></label></td>
    </tr>
	
	<tr>
      <td height="35" align="left" bgcolor="#ebebeb"><p>Verify E-mail address: <span class="redstar">*</span></p>
       </td>
      <td bgcolor="#ebebeb"> <input type="text" name="vemail" id="vemail" value="<?PHP echo $_SESSION['vsignup']['vemail']; ?>" onblur="verifyuser(this);" /><label id="user-email"></label></td>
    </tr>
	
	<tr>
      <td height="35" align="left" bgcolor="#ebebeb"><p>Other E-mail Address(es)
<span style="font-weight:normal;">separate multiple addresses
with a semicolon (;) </span></p>
       </td>
      <td bgcolor="#ebebeb"> 
	  <textarea name="ccemail" id="ccemail"><?PHP echo $_SESSION['vsignup']['ccemail']; ?></textarea>
	  <p style="float: left; width: 202px; padding-top: 8px; font-weight:normal;">We <span style="font-weight:bold;">highly recommend</span> you insert at least one address for a particular staff member who can update your compliance documents as well as a sales representative to respond to project invitations on a regular basis. </p>
<label id="user-ccemail"></label></td>
    </tr>
	
    <tr>
      <td height="35" align="left" bgcolor="#ebebeb">Street Address: <span class="redstar">*</span></td>
	  <td bgcolor="#ebebeb"> 
	    <?php if($_SESSION['vsignup']['company_address']=='') { ?>
          <input type="text" name="company_address" id="company_address"  value="<?PHP echo $this->company_address; ?>" />
         <?php } else {  ?>
	     <input type="text" name="company_address" id="company_address"  value="<?PHP echo $_SESSION['vsignup']['company_address']; ?>"/>	 
		 <?php } ?>


	  </td>
    </tr>
    <tr>
      <td height="35" align="left" bgcolor="#ebebeb">&nbsp;</td>
      <td bgcolor="#ebebeb"> 
	   <?php if($_SESSION['vsignup']['company_addresss']=='') { ?>
          <input type="text" name="company_addresss" id="company_addresss"  value="<?PHP echo $this->company_addresss; ?>" />
         <?php } else {  ?>
	     <input type="text" name="company_addresss" id="company_addresss"  value="<?PHP echo $_SESSION['vsignup']['company_addresss']; ?>"/>	 
		 <?php } ?>
	  </td>
    </tr>
    <tr>
      <td height="35" align="left" bgcolor="#ebebeb">City: <span class="redstar">*</span></td>
      <td bgcolor="#ebebeb"> 
	   <?php if($_SESSION['vsignup']['city']=='') { ?>
          <input type="text" name="city" id="city"  value="<?PHP echo $this->city; ?>" />
         <?php } else {  ?>
	     <input type="text" name="city" id="city"  value="<?PHP echo $_SESSION['vsignup']['city']; ?>"/>	 
		 <?php } ?>
	  </td>
    </tr>
    <tr>
      <td height="35" align="left" bgcolor="#ebebeb">State: <span class="redstar">*</span></td>
      <td bgcolor="#ebebeb">
	<?php //print_r($_SESSION); ?>
	  <?php if($_SESSION['vsignup']['states']=='') { ?>
	  <select name="states" id="states" class="t_field" style=" width:265px;">
	   <option value="0">Select</option>
	<?PHP for($x=0; $x<count($this->states); $x++) { ?>
        <option value="<?PHP echo $this->states[$x]->id;?>" <?PHP if($_REQUEST['states'] == $this->states[$x]->id ) { ?> selected="selected" <?PHP } ?>><?PHP echo $this->states[$x]->state;?></option>
		<?PHP } ?>
      </select>
	   <?php } else {  ?>
		   <select name="states" id="states" class="t_field" style=" width:265px;">
	   <option value="0">Select</option>
	<?PHP for($x=0; $x<count($this->states); $x++) { ?>
        <option value="<?PHP echo $this->states[$x]->id;?>" <?PHP if($_SESSION['vsignup']['states'] == $this->states[$x]->id ) { ?> selected="selected" <?PHP } ?>><?PHP echo $this->states[$x]->state;?></option>
		<?PHP } ?>
      </select>
		  <?php } ?>
	</td>
    </tr>
    <tr>
      <td height="35" align="left" bgcolor="#ebebeb">Zip Code: <span class="redstar">*</span></td>
      <td bgcolor="#ebebeb">
	     <?php if($_SESSION['vsignup']['zipcode']=='') { ?>
          <input type="text" name="zipcode" id="zipcode"  value="<?PHP echo $this->zipcode; ?>" />
         <?php } else {  ?>
	     <input type="text" name="zipcode" id="zipcode"  value="<?PHP echo $_SESSION['vsignup']['zipcode']; ?>"/>	 
		 <?php } ?>
	</td>
    </tr>
    <?php /*?><tr>
      <td height="35" align="left" bgcolor="#ebebeb">Phone Number: <span class="redstar">*</span></td>
      <td bgcolor="#ebebeb">
   <!--<input name="company_phone" type="text" value="<?PHP //if($_SESSION['vsignup']['company_phone'] == '') {?>without spaces or dashes<?PHP //} else{echo $_SESSION['vsignup']['company_phone'];}?>" onclick="if(this.value == 'without spaces or dashes') this.value='';" onblur="if(this.value == '')this.value='without spaces or dashes';"  id="company_phone" onkeydown="javascript: phone_Valid(event);" maxlength="14" style="width:150px;" />--> 
   		 <input name="company_phone" type="text" value="<?PHP if($_SESSION['vsignup']['company_phone'] == '') {?>without spaces or dashes<?PHP } else{  echo $_SESSION['vsignup']['company_phone']; } ?>" onclick="if(this.value == 'without spaces or dashes') this.value='';" onblur="javascript:onblurphone(this.value);"  id="company_phone" onkeyup="javascript:backspacerUP(this,event);" onkeydown="javascript:backspacerDOWN(this,event);" style="width:150px; color:#E1E1E1;">
        Ext.
          <input name="phone_ext" type="text" id="phone_ext" maxlength="4" value="<?PHP echo $_SESSION['vsignup']['phone_ext']; ?>" style="width:67px;" /></td>
		 
    </tr><?php */?>
	
<tr>
      <td height="35" align="left" bgcolor="#ebebeb">Company Phone Number: <span class="redstar">*</span></td>
      <td bgcolor="#ebebeb">
   		 <input name="company_phone1" type="text" value="<?PHP if($_SESSION['vsignup']['company_phone1'] == '') { } else{  echo $_SESSION['vsignup']['company_phone1']; } ?>" onclick="if(this.value == 'without spaces or dashes') this.value='';"  id="company_phone1" style="width:25px; color:#636363;" maxlength="3" onkeyup="moveOnMax(this,'company_phone2')" >&nbsp;-&nbsp;
		 <input name="company_phone2" type="text" value="<?PHP if($_SESSION['vsignup']['company_phone2'] == '') { } else{  echo $_SESSION['vsignup']['company_phone2']; } ?>" onclick="if(this.value == 'without spaces or dashes') this.value='';"  id="company_phone2" style="width:25px; color:#636363;" maxlength="3" onkeyup="moveOnMax(this,'company_phone3')" >&nbsp;-&nbsp;
		 <input name="company_phone3" type="text" value="<?PHP if($_SESSION['vsignup']['company_phone3'] == '') { } else{  echo $_SESSION['vsignup']['company_phone3']; } ?>" onclick="if(this.value == 'without spaces or dashes') this.value='';"  id="company_phone3" style="width:32px; color:#636363;" maxlength="4"  onkeyup="moveOnMax(this,'phone_ext')">
        Ext.
          <input name="phone_ext" type="text" id="phone_ext" maxlength="4" value="<?PHP echo $_SESSION['vsignup']['phone_ext']; ?>" style="width:67px;" /></td>
		 
    </tr>
	
<tr>
      <td height="35" align="left" bgcolor="#ebebeb">Fax Number: </td>
      <td bgcolor="#ebebeb">
   		 <input name="fax_1" type="text" value="<?PHP if($_SESSION['vsignup']['fax_1'] == '') { } else{  echo $_SESSION['vsignup']['fax_1']; } ?>" onclick="if(this.value == 'without spaces or dashes') this.value='';"  id="fax_1" style="width:25px; color:#636363;" maxlength="3" onkeyup="moveOnMax(this,'fax_2')" >&nbsp;-&nbsp;
		 <input name="fax_2" type="text" value="<?PHP if($_SESSION['vsignup']['fax_2'] == '') { } else{  echo $_SESSION['vsignup']['fax_2']; } ?>" onclick="if(this.value == 'without spaces or dashes') this.value='';"  id="fax_2" style="width:25px; color:#636363;" maxlength="3" onkeyup="moveOnMax(this,'fax_3')" >&nbsp;-&nbsp;
		 <input name="fax_3" type="text" value="<?PHP if($_SESSION['vsignup']['fax_3'] == '') { } else{  echo $_SESSION['vsignup']['fax_3']; } ?>" onclick="if(this.value == 'without spaces or dashes') this.value='';"  id="fax_3" style="width:32px; color:#636363;" maxlength="4"  >
        </td>
		 
    </tr>	
		
    
  </table>
  <div class="clear"></div>
</div>
</div>
<!-- eof table pan -->
<?php if($this->invitecode == ''){ ?>
<br />
<!--<div class="table_panneldiv2">
  <table width="100%" cellspacing="0">	
 <tr>
     
      </tr> 
  <tr>
 <td colspan="2" class="head_greycolor_bg1" align="center" style="color:#fff; padding-left:0px;">PAYMENT</td>
  </tr>
    <tr style="height: 43px;">
	  <td valign="middle" height="35" align="left" style="">Subscriptions Start at $99/Year.<br /><span class="greenlinks_113">NOTE: You will select your subscription preferences after your account is created.</span></td>
    </tr>
	</tr>
	
  </table>
  <div id="Promocode_loading"></div>
<div class="clear"></div>
</div>--><br />
<?php } ?>


<table width="100%" cellpadding="0" cellspacing="0">
 <tr>
   <td width="4%" height="27" align="left" valign="top" >
		 </td>
	 <td width="30%" align="left" valign="top">
	 Select your security question:<span class="redstar">*</span>
	 	 </td>
	 <td width="71%" align="left" valign="top">
<?php echo JHTML::_('select.genericlist', $this->questions, 'question', null, 'value', 'text', $_SESSION['vsignup']['question']); ?>
	 </td>
  </tr>
	 <tr>
   <td width="4%" height="27" align="left" valign="top" >
		 </td>
	 <td width="20%" align="left" valign="top">
	 Answer to security question:<span class="redstar">*</span>
	 	 </td>
	 <td width="71%" align="left" valign="top">
	<?php if($_SESSION['vsignup']['answer']=='') { ?>
	<input type="text" name="answer" id="answer" style="width:183px;"  value="<?PHP echo $this->answer; ?>" />
	<?php } else {  ?>
	<input type="text" name="answer" id="answer" style="width:183px;"  value="<?PHP echo $_SESSION['vsignup']['answer']; ?>"/>	 
	<?php } ?>
 </td>
  </tr>
<tr>
   <td width="4%" height="27" align="left" valign="top" >
		 </td>
	 <td width="20%" align="left" valign="top">
	 How did you hear about us?:<span class="redstar">*</span>
	 	 </td>
	 <td width="71%" align="left" valign="top">
	<?php if($_SESSION['vsignup']['hear']=='') { ?>
	<input type="text" name="hear" id="hear" style="width:183px;"  value="<?PHP echo $this->hear; ?>" />
	<?php } else {  ?>
	<input type="text" name="hear" id="hear" style="width:183px;"  value="<?PHP echo $_SESSION['vsignup']['hear']; ?>"/>	 
	<?php } ?>
 </td>
  </tr>
  <tr style="height:15px;"></tr>
  
  <tr>
    <td width="4%" height="27" align="left" valign="top" >
      <input type="checkbox" name="checkbox" id="checkbox" style=" border:0px; width:15px;" <?PHP if($_SESSION['vsignup']['checkbox'] == 'on' ) { ?> checked <?PHP } ?>/></td>
    <td colspan="2" align="left" valign="top">I accept and agree to the <span class="greenlinks_113"><a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=51&amp;Itemid=113">Terms &amp; Conditions</a></span> and <span class="greenlinks_113"><a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=52&amp;Itemid=113">Privacy Policy.</a></span><span class="redstar">*</span></td>
    <td width="5%" align="right" valign="top">&nbsp;</td>
  </tr>
  <tr>
    <td width="4%" height="64" align="left" valign="top" >
      <input type="checkbox" name="checkbox2" id="checkbox2" style=" border:0px; width:15px;" <?PHP if($_SESSION['vsignup']['checkbox2'] == 'on' ) { ?> checked <?PHP } ?>/></td>
    <td colspan="2" align="left" valign="top">I certify under penalty of law that I am the person stated above, and that I have the authorization to conduct business on behalf of the Company listed above, and that I am at least 18 years old. I also acknowledge that any false statement constitutes fraud.<span class="redstar">*</span><br /></td>
    <td width="5%" align="right" valign="top">&nbsp;</td>
  </tr>    
   <input type="hidden" name="not_interest_RFP" id="not_interest_RFP" style=" border:0px; width:15px;" <?PHP if($_SESSION['vsignup']['not_interest_RFP'] == 'on' ) { ?> checked <?PHP } ?>/>
  
  <tr>

    <td width="4%" height="30" align="left" valign="top" >
      <input type="checkbox" name="interest_RFP_alerts" id="interest_RFP_alerts" style=" border:0px; width:15px;" <?PHP if($_SESSION['vsignup']['interest_RFP_alerts'] == 'on' ) { ?> checked <?PHP } ?>/></td>
    <td colspan="2" align="left" valign="top">I am interested in receiving Text Message RFP Alerts to my cell phone.<br /></td>
  </tr>
 
  
  
  
    <?php /*?><tr>
    <td width="4%" >&nbsp;</td>
    <td colspan="2">
	<?php
global $mainframe;
//set the argument below to true if you need to show vertically( 3 cells one below the other)
$mainframe->triggerEvent('onShowOSOLCaptcha', array(false));
?></td>
  </tr><?php */?>
  
    <tr>
<td colspan="3" align="left" valign="top">
<div style="margin-top: 0px; float:right; margin-top:20px;"><!--<a href="#"><img src="templates/camassistant_inner/images/submitpayment.gif" alt="Apply promo code" hspace="5" /></a> --><?PHP if($payment->payment_type == 'Authorize') { ?>
<a onclick="javascript: CheckCardNumber(document.VendorForm2);"><img style="cursor:pointer" src="templates/camassistant_left/images/submitpayment.gif" alt="Apply promo code" hspace="5" /></a>
<?PHP } else { ?>
<a onclick="javascript: return validate_fields();"><img style="cursor:pointer" src="templates/camassistant_left/images/continuetopayment.gif" alt="Apply promo code" hspace="5" /></a>
<?PHP } ?><br />
</div>    </td>
    </tr>
</table>

</div>
<?PHP if($payment->payment_type == 'Paypal') { ?>
<input type="hidden" name="hid_pay_name" value="<?PHP echo $payment->pay_name; ?>" />
<input type="hidden" name="hid_pay_currency" value="<?PHP echo $payment->pay_currency; ?>" />
<input type="hidden" name="hid_pay_busness_email" value="<?PHP echo $payment->pay_busness_email; ?>" />
<?PHP } ?>
<input type="hidden" name="hid_payment_type" value="<?PHP echo $payment->payment_type; ?>" />
<input type="hidden" name="hid_auth_tx_key" value="<?PHP echo $payment->auth_tx_key; ?>" />
<input type="hidden" name="hid_auth_login_id" value="<?PHP echo $payment->auth_login_id; ?>" />
<input type="hidden" name="option" value="com_camassistant" />
<input type="hidden" name="controller" value="vendorsignup" />
<input type="hidden" name="task" value="save_billing_info" /> 
<?php if($this->invitecode){ ?>
<input type="hidden" value="<?php echo $this->invitecode; ?>" name="invitecode" id="invitecode" />
<?php } ?>
<?php if($this->manager_invitecode){ ?>
<input type="hidden" value="<?php echo $this->manager_invitecode; ?>" name="manager_invitecode" id="manager_invitecode" />
<?php } ?>

<input type="hidden" name="Itemid" value="140" /> 

</form>

<!-- eof container -->