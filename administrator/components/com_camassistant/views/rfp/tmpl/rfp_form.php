<?php
error_reporting(E_ALL ^ E_NOTICE);
/**
 * @version		1.0.0 camassistant $
 * @package		camassistant
 * @copyright	Copyright Â© 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');
JHTML::_('behavior.modal');
$toolTipArray = array('className'=>'tool');
JHTML::_('behavior.tooltip', '.hasTip2', $toolTipArray);
JHTML::_('behavior.calendar');
jimport( 'joomla.html.html' );
$propertyList=$this->propertyList;
$industryList=$this->industryList;
$reqCatList=$this->reqCatList;
$model=$this->getModel('rfp');
for($i=0;$i<count($reqCatList);$i++)
{
	$pid = $reqCatList[$i]['id'];
	$reqCatList2=$model->getSplRequiremntCats($pid);
	$reqCatList[$i]['subcat'] = $reqCatList2;
	//$cnt = count($reqCatList[$i]['subcat']);
	for($j=0;$j<count($reqCatList[$i]['subcat']);$j++)
	{
		$pid2 = $reqCatList[$i]['subcat'][$j]['id'];
		$reqCatList3=$model->getSplRequiremntCats($pid2);
		$reqCatList[$i]['subcat'][$j]['subcat2'] = $reqCatList3;
	}
}
//echo $reqCatList[1][subcat][0]['id'];
/*echo "<pre>";
print_r($reqCatList);exit;*/

$user=& JFactory::getuser();
?>
<link rel="stylesheet" media="all" type="text/css" href="<?php Juri::base(); ?>templates/khepri/css/camassistant.css" />
<link rel="stylesheet" media="all" type="text/css" href="<?php Juri::base(); ?>components/com_camassistant/skin/css/jquery1.css" />
<script type="text/javascript" src="<?php echo JURI::root(); ?>components/com_camassistant/skin/js/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="<?php echo JURI::root(); ?>components/com_camassistant/skin/js/jquery-ui-1.8.6.custom.min.js"></script>
<script type="text/javascript" src="<?php echo JURI::root(); ?>components/com_camassistant/skin/js/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript" src="<?php echo JURI::root(); ?>components/com_camassistant/skin/js/jquery.elastic.js"></script>
<script>

function validate_date(day)
 {
	 var mystring = day;
	 var myarray = mystring.split("-");
	 var d = new Date();
	 var curr_day = d.getDate();
	 var diff = parseInt(myarray[1]) - parseInt(curr_day);
	function addDays(myDate,days)
	 {
        return new Date(myDate.getTime() + days*24*60*60*1000);
	  }
     var x = addDays(new Date(),10);
 }

G = jQuery.noConflict();
window.addEvent('domready', function() {
			SqueezeBox.initialize({});
			$$('input.modal').each(function(el) {
				el.addEvent('click', function(e) {
				new Event(e).stop();
					inputString=G('#industry_id').val();
					if(inputString){

el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&formid='+inputString+'&lcnt='+id1+'&tmpl=component';
var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 780, y:580}}"))
	SqueezeBox.fromElement(el,options);
					}else{
					alert('Please Select The industry');
					}
				});
			});

		});
G(document).ready(function(){
G('#line_taskdesc1').elastic();
G('#line_taskdesc1').trigger('update');
});


function linetaskupload(id){

property_id=G('#property_id').val();
if(property_id){
  el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task=upload_select&taskid='+id+'&pid='+property_id+'&mid='+<?php echo $user->id; ?>+'&tmpl=component';

//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=popupdocs&task=opendocs&taskid='+id+'&pid='+property_id+'&mid='+<?php echo $user->id; ?>+'&tmpl=component';
//SqueezeBox.fromElement(el);
var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 700, y:450}}"))
SqueezeBox.fromElement(el,options);
}else{
alert('Please Select The Property');
}
}
function deletelineupload(taskid,num){
var res = confirm("Are you sure you want to remove this file from the RFP?");

if(res==true){
window.parent.document.getElementById('lineuploads'+taskid).value ='';
window.parent.document.getElementById('delimg'+taskid).style.display ='none';
window.parent.document.getElementById('uploadfile'+taskid).style.display ='none';
window.parent.document.getElementById('newSelector'+num).style.display ='none';
/*
if(taskid>20){
window.parent.document.getElementById('requiredoprice'+taskid).style.display ='none';
}
*/
//window.parent.document.getElementById('upload_file'+taskid).innerHTML ='<a href="javascript:linetaskupload(\''+taskid+'\');"><img src="<? //echo juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif" alt="upload a file"></a>';
    }
}
function deletelineupload_line(taskid){
var res = confirm("Are you sure you want to remove this file from the RFP?");

if(res==true){
window.parent.document.getElementById('line_uploads'+taskid).value ='';
window.parent.document.getElementById('delimg'+taskid).style.display ='none';
/*
if(taskid>20){
window.parent.document.getElementById('requiredoprice'+taskid).style.display ='none';
}
*/
window.parent.document.getElementById('upload_file'+taskid).innerHTML ='<a href="javascript:linetaskupload(\''+taskid+'\');"><img src="<? echo juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif" alt="upload a file"></a>';
}
}
function addproperty(id){
if(id=='addp'){
el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task=addproperty';
var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
SqueezeBox.fromElement(el,options);
}
}

function sowrfp(task) {
industry=G('#industry_id').val();
property=G('#property_id').val();
//if((industry)&&(property)){
	if(task=='pro_hired')
	{
		document.getElementById("licenced").checked=false;
		document.getElementById("submenu1").style.display='none';
		document.getElementById("sub_req_id1").checked=false;
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='none';
		if(document.getElementById("projectName").value!='' && document.getElementById("projectName").value!='Reference')
		document.getElementById("title_task1").value=document.getElementById("projectName").value;
		el="index2.php?option=com_content&view=article&id=122";
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	} else if(task=='pro_hired_camassitant'){
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='none';
		document.getElementById('upload_file').style.display='none';
		document.getElementById('someone_engineer1').style.display='none';
		document.getElementById('someone_engineer2').style.display='none';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById("choose_tasks1a").checked=false;
		document.getElementById("choose_tasks1b").checked=false;
		document.getElementById("licenced").checked=true;
		document.getElementById("submenu1").style.display='';
		document.getElementById("sub_req_id1").checked=true;
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	}  else if(task=='pro_hired_camassitant1'){
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		//task='pro_hired_camassitant';
		document.getElementById('line_task').style.display='none';
		document.getElementById('upload_file').style.display='none';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='';
		document.getElementById('someone_engineer2').style.display='none';
		document.getElementById("choose_tasks21").checked=false;
		document.getElementById("choose_tasks22").checked=false;
		/*el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&formid=23&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);*/

	} else if(task=='pro_hired_camassitant2'){
		//task='pro_hired_camassitant';
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='none';
		document.getElementById('upload_file').style.display='none';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='none';
		document.getElementById('someone_engineer2').style.display='';
		document.getElementById("choose_tasks31").checked=false;
		document.getElementById("choose_tasks32").checked=false;
		/*el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&formid=47&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);*/
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	} else if(task=='pro_hired_camassitant1_eng'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else if(task=='pro_hired_camassitant2_arc'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer1').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else if(task=='pro_hired_camassitant1_eng1'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer2').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else if(task=='pro_hired_camassitant2_arc1'){
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		document.getElementById('someone_engineer').style.display='';
		document.getElementById('someone_engineer2').style.display='';
		el='index.php?option=com_camassistant&controller=rfp&task=showindustryform&direct=form&formid=106&tmpl=component';
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
	} else {
		document.getElementById("licenced").checked=false;
		document.getElementById("submenu1").style.display='none';
		document.getElementById("sub_req_id1").checked=false;
		document.getElementById('someone_engineer').style.display='none';
		//document.getElementById("licenced").checked=false;
		//document.getElementById("submenu1").style.display='';
		//document.getElementById("sub_req_id1").checked=false;
		document.getElementById('line_task').style.display='';
		document.getElementById('upload_file').style.display='';
		el="index2.php?option=com_content&view=article&id=121";
		var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);
		//el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;
	}

	<?php /*?>el='<?php  echo Juri::base(); ?>index2.php?option=com_camassistant&controller=rfp&task='+task+'&industry_id='+industry+'&property_id='+property;<?php */?>
	/*var options = $merge(options || {}, Json.evaluate("{handler: 'iframe', size: {x: 600, y:450}}"))
	SqueezeBox.fromElement(el,options);*/
//}else{
	//alert('Please Fill the Property And Industry');
//}


}

//
function showperform(id,rfm)
{
	if(document.getElementById('work_perform1').checked==true)
		G('#sub_perform'+id).css('display','');
	else
		G('#sub_perform'+id).css('display','none');
}
//
function showperform2(id,rfm)
{
	//G('#sub_perform'+id).css('display','');
	if(rfm && document.getElementById('work_perform').checked==true)
		G('#sub_perform'+rfm).css('display','');
	else
		G('#sub_perform'+rfm).css('display','none');
}
//
function removeperform(){
G('#sub_performother').css('display','');
//G('#sub_perform1').css('display','none');
}
function showme(){
G('#sow_me').css('display','block');
G('#someone_me').css('display','none');
}
function showsomeone(){
G('#sow_me').css('display','none');
G('#someone_me').css('display','block');
}

function addEvent1() {
linetask=$('#line_task').html();
G('#newdiv').prepend(linetask);
}

//
function validatewp()
{
	var chks = document.getElementsByName('work_perform[]');
	var hasChecked = false;
	for (var i = 0; i < chks.length; i++)
	{
	if (chks[i].checked)
	{
		hasChecked = true;
		break;
	}
	}
	if (hasChecked == false)
	return false;
	else
	return true;
}
//
function validate_sitevisit()
{
	var chks2 = document.getElementsByName('site_visit[]');
	var bidders_info = document.getElementsByName('bidders_info[]');
	var hasChecked2 = false;
	var details=0;
	for (var i = 0; i < chks2.length; i++)
	{
	if (chks2[i].checked)
	{
		if(bidders_info[i].value=='' || bidders_info[i].value=='Please provide details here')
		{
		document.getElementById('details').value='no';
		} else {
		document.getElementById('details').value='yes';
		}
		hasChecked2 = true;
		break;
	}
	}
	if (hasChecked2 == false)
	return false;
	else
	return true;
}
function fn_submitRFPd(rfpType)
{
	var frm=document.adminForm;
	if(frm.property_id.value=='')
	{
		alert("Please choose your property name");
		frm.property_id.focus();
		return;
	} else if (frm.projectName.value=='Reference'){
	frm.projectName.value='';
	return;
	} else {
	frm.controller.value="rfp";
			 frm.task.value="submit_rfp";
			 frm.rfp_type.value=rfpType;
			 frm.submit();
	}
}
//
function fn_submitRFP(rfpType)
{
	var frm=document.adminForm;

	var wpres=validatewp();
	var sitevisit=validate_sitevisit();
	/*for(var s=1; s<=id1; s++)
	{
		var idname = 'title_task'+s;
		 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
		 {
		 alert('Please Enter Title of Line Item Task');
		 document.getElementById('title_task'+s).value='';
		 document.getElementById('title_task'+s).focus();
		 return ;
		 }
	 }*/
	if(frm.property_id.value=='')
	{
		alert("Please choose your property name");
		frm.property_id.focus();
		return;
	} else if(frm.projectName.value=='' || frm.projectName.value=='Reference') {
		alert("Please enter Reference name");
		frm.projectName.focus();
		return;
	} else if(frm.industry_id.value=='') {
		alert("Please choose your industry");
		frm.industry_id.focus();
		return;
	} else if(wpres==false) {
		alert("Please select at least one where the work is to be performed");
		return;
	}/* else if(frm.projectInfo.value=='') {
		alert("Please enter about Project details");

		return;

	}*/  else if(frm.frequency.value=='' || frm.frequency.value=='One-Time, Annually, Monthly') {
		alert("Please enter Frequency");
		frm.frequency.focus();
		return;
	} else if(frm.startDate.value=='') {
		alert("Please select your project Start date");
		frm.startDate.focus();
		return;
	} else if(frm.endDate.value=='') {

		alert("Please select your project End date");
		frm.endDate.focus();
		return;
	} else if(frm.maxProposals.value=='' || frm.maxProposals.value==0) {
		alert("Please select maximum proposals");
		frm.maxProposals.focus();
		return;
	} else if(frm.proposalDueDate.value=='') {
		alert("Please select vendor proposal due Date");
		frm.proposalDueDate.focus();
		return;
	} else if(frm.proposalDueDate.value) {
		var dateBits1=frm.startDate.value.split('-');
		var dateBits2=frm.endDate.value.split('-');
		var dateBits3=frm.proposalDueDate.value.split('-');
		//date1=dateBits1[2] + '-' + dateBits1[0]+ '-' + dateBits1[1] + ' 00:00:00';
		var yeartime=dateBits3[2].split(' ');
		//date2=yeartime[0] + '-' + dateBits2[0]+ '-' + dateBits2[1] + ' '+yeartime[1]+':00';
		var d1=new Date(dateBits1[2] , dateBits1[0],dateBits1[1]);
		var d2=new Date(dateBits2[2] , dateBits2[0],dateBits2[1]);
		var d3=new Date(yeartime[0] , dateBits3[0],dateBits3[1]);
		var diff=Math.ceil(d2-d1);
		var one_day=1000*60*60*24;
		var days=Math.ceil(diff/(one_day));

		if(d1>d2) {
		alert("Project start date must be less than Project end date");
		//frm.startDate.focus();
		return;
		/*} else if(days<10) {
		alert("Minimum 10 days must have between Project start date and Project end date");
		//frm.startDate.focus();
		return;*/
		} else if(d1<=d3) {
		alert("Proposal date must be less than Project start date");
		//frm.proposalDueDate.focus();
		return;
		}else if(sitevisit==false) {
			alert("Please select at least one from the site visit list");
			return;
		} else if(document.getElementById('details').value=='no') {
			alert("Please enter the Site Visit information");
			return;

		} else if(frm.terms.checked==false ) {
			alert("You must accept the terms and conditions to submit your RFP");
			frm.terms.focus();
			return;
		} else {
			for(var s=1; s<=id1; s++)
			{

				var idname = 'title_task'+s;
				 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
				 {
				 alert('Please Enter Title of Line Item Task');
				 document.getElementById('title_task'+s).value='';
				 document.getElementById('title_task'+s).focus();
				 return ;
				 }
			 }
			 frm.controller.value="rfp";
			 frm.task.value="submit_rfp";
			 frm.rfp_type.value=rfpType;
			 frm.submit();
		}
	}
}


	/* else if(frm.proposalDueTime.value=='') {
		alert("Please select vendor proposal Ending Time");

		return;

	}*/
	/*else if(1==1)
	{
		for(var s=1; s<=id1; s++)
			{

				var idname = 'title_task'+s;
				 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
				 {
				 alert('Please Enter Title of Line Item Task');
				// document.getElementById('title_task'+s).value='';
				 document.getElementById('title_task'+s).focus();
				 return ;
				 }
			 }
	}*/
	/*else if(frm.terms.checked==false ) {
		alert("You must have to check the terms and conditions to create an RFP");
		frm.terms.focus();
		return;
	}
	else {
	for(var s=1; s<=id1; s++)
	{

		var idname = 'title_task'+s;
		 if(document.getElementById('title_task'+s).value == 'Enter Title of Line Item Task')
		 {
		 alert('Please Enter Title of Line Item Task');
		 document.getElementById('title_task'+s).value='';
		 document.getElementById('title_task'+s).focus();
		 return ;
		 }
	 }

		frm.controller.value="rfp";
		frm.task.value="submit_rfp";
		frm.rfp_type.value=rfpType;
		frm.submit();
	}

}*/

function openmenu(val)
{
	//alert(document.getElementById("submenu"+val).style.display);

	if(document.getElementById("submenu"+val).style.display=="none")
	{
	document.getElementById("submenu"+val).style.display="";
	if(val==11)
			document.getElementById('req_id19').checked=true;
	if(val==12 && document.getElementById('sub_req_id3').checked==true)
	document.getElementById('liability'+val).style.display='';
	//document.getElementById("sr_cat").checked="true";
	}
	else
	{
	document.getElementById("submenu"+val).style.display="none";
	//document.getElementById("sr_cat").checked="false";
	}

}

	function removeEventedit(divNum){


		//G("#title_task"+id).attr("id","title_task"+id);
		G("div").remove("#newSelect"+divNum);
		//G('#newSelect'+divNum).html('');
		id1 = id1-1;
		var x;
			for(x=2; x<=id1; x++)
			{
				gtid = parseInt(x)+1;
				if(x>=divNum)
				{
				//alert('if');
				gtid = parseInt(x)+1;
				G("#PLN_"+gtid).html(x); //to change divid value
				G("#PLN_no"+gtid).html(x);
				G("#PLN_no"+gtid).attr("id","PLN_no"+x);
				G("#newSelect"+gtid).attr("id","newSelect"+x);
				G("#line_task"+gtid).attr("id","line_task"+x);
				G("#title_task"+gtid).attr("id","title_task"+x);
				G("#line_taskdesc"+gtid).attr("id","line_taskdesc"+x);
				G("#PLN_delete"+gtid).attr("id","PLN_delete"+x);
				G("#PLN_delete"+x).html('<a href="javascript:removeEvent1('+x+');"><img src="components/com_camassistant/skin/images/removelineitemtask.gif" alt="Remove line item task" /></a>');
				}
				else
				{
				//alert('else');
				G("#PLN_"+x).html(x); //to change divid no
				G("#PLN_no"+x).html(x);
				G("#PLN_no"+x).attr("id","PLN_no"+x);
				G("#newSelect"+x).attr("id","newSelect"+x);
				G("#line_task"+x).attr("id","line_task"+x);
				G("#title_task"+x).attr("id","title_task"+x);
				G("#line_taskdesc"+x).attr("id","line_taskdesc"+x);
				G("#PLN_delete"+gtid).attr("id","PLN_delete"+x);
				G("#PLN_delete"+x).html('<a href="javascript:removeEvent1('+x+');"><img src="components/com_camassistant/skin/images/removelineitemtask.gif" alt="Remove line item task" /></a>');
				}
			}

	}
	//
	var id1 =  '';
	var cnt =  '';
	//var remove_id;
	if(!id1)
	id1=1;
	else
	var id1=document.getElementById('idval').value;
	var endid1;
	function addEvent1(pid)
	{

			if(document.getElementById('idval').value!=0)
			{
			id1=(document.getElementById('idval').value);
			document.getElementById('idval').value=0;
			}
			id1++;
			var arrlicen=new Array();
			var ni = document.getElementById('newdiv');
			var numi = document.getElementById('theValue');
			var num = (document.getElementById("theValue").value -1)+ 2;
			numi.value = num;
			var divIdName = "newSelect"+id1;
			//alert(divIdName);
			//modified by sateesh on 01-08-11
				 newitem='<div id=\'line_task'+id1+'\'><div class="lineitem_pan_row"><p style="padding-top: 35px;"></p><span class="grey_12">Line Item #<span id="LM_'+id1+'">'+id1+'</span>:</span><div class="lineitem_pan"><input type="hidden" name="old_taskids[]" /><input id=\'title_task'+id1+'\' type="text" value="Enter Title of Line Item Task" onblur="if (this.value == \'\') this.value = \'Enter Title of Line Item Task\'" onfocus="if (this.value == \'Enter Title of Line Item Task\')this.value = \'\'"  class="other_tfield" style="width: 300px;" name="linetaskname_2'+id1+'[]">&nbsp;<span class="redstar">*</span><input type="text" value="Frequency" onblur="if (this.value ==\'\') this.value =\'Frequency\'" id="frequency'+id1+'" onfocus="if (this.value == \'Frequency\') this.value = \'\'" class="other_tfield" style="width: 239px; margin-left: 32px;" name="rfpreference_2'+id1+'[]"><span class="hasTip2" title="Example: one-time, upon scheduled visits, daily, weekly, bi-weekly, monthly, quarterly, annually, or specific dates."> <img align="right" style="margin-top:-8px; margin-right: 0px;" alt="info" src="<?php echo Juri::root(); ?>components/com_camassistant/skin/images/info_icon3.png"></span><div class="clear"></div><p style="padding-top: 5px;"></p><textarea style="border: 1px solid rgb(215, 215, 215); padding: 5px; background: rgb(247, 247, 247) none repeat scroll 0% 0%; width: 612px; height: 45px; font-family: arial; font-size: 12px; color: rgb(125, 125, 125); -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" id="line_taskdesc'+id1+'" name="task_desc_2'+id1+'[]"></textarea></div><div style="float: left; padding-left: 10px;"><strong><input type="checkbox"  name="is_req_taskvendors_2'+id1+'[]" id="price'+id1+'" value="1" onclick="javascript:check_hiddenvalue('+id1+');"><input type="hidden" name="hidden_taskvendors_2'+id1+'[]" value="0" id="hidden_price'+id1+'" />Require</strong> vendors to assign a <strong>Dollar Value</strong> to this Line Item.</div><div class="clear"></div><div class="color_butons"><span id="DL_'+id1+'"><a href="javascript:removeEvent1('+id1+');" ><img alt="Add another line item task" src="<?php echo Juri::root(); ?>components/com_camassistant/skin/images/removelineitemtask.gif"></a></span></div><br/><br/><a href="javascript:void(0);" onclick="addEventa2('+id1+');"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span> <div class="clear"></div></div></div><div id="newdiva2'+id1+'"></div></br/><input type="hidden" checked="" id="line_taskno" name="line_taskno[]" value="2'+id1 +'" >';
			//modified by sateesh on 01-08-11 completed
			var newdiv = document.createElement('div');
			newdiv.setAttribute("id",divIdName);
			newdiv.innerHTML = newitem;
			ni.appendChild(newdiv);
	}


	function removeEvent1(divid)
	{
		var res = confirm("Are you sure you want to permanently delete this Line Item Task?");
		var idx;
		var idx2;
		var gtid;
		if(res==true)
		{
			G("div").remove("#newSelect"+divid);
			id1 = id1-1;
			for(idx=1; idx<=id1; idx++)
			{
					gtid = parseInt(idx)+2;
					if(idx > divid)
	                {
					G("#line_task"+gtid).attr("id","line_task"+idx);
					G("#title_task"+gtid).attr("id","title_task"+idx);
					G("#price"+gtid).val(idx-1);
					G("#line_taskdesc"+gtid).attr("id","line_taskdesc"+idx);
					G("#newSelect"+gtid).attr("id","newSelect"+idx);
					G("#LM_"+gtid).attr("id","LM_"+idx);
					G("#LM_"+idx).html(idx);
					G("#DL_"+gtid).attr("id","DL_"+idx);
					G("#DL_"+idx).html('<a href="javascript:removeEvent1('+idx+');"><img src="components/com_camassistant/skin/images/removelineitemtask.gif" alt="Remove line item task" /></a>');
					}
					else
					{
					idx2 = parseInt(idx)+1;
					G("#line_task"+gtid).attr("id","line_task"+idx2);
					G("#title_task"+gtid).attr("id","title_task"+idx2);
					G("#price"+gtid).val(idx2);
					G("#line_taskdesc"+gtid).attr("id","line_taskdesc"+idx2);
					G("#newSelect"+gtid).attr("id","newSelect"+idx2);
					G("#LM_"+gtid).attr("id","LM_"+idx2);
					G("#LM_"+idx2).html(idx2);
					G("#DL_"+gtid).attr("id","DL_"+idx2);
					G("#DL_"+idx2).html('<a href="javascript:removeEvent1('+idx2+');"><img src="components/com_camassistant/skin/images/removelineitemtask.gif" alt="Remove line item task" /></a>');
					}
			}
		 }
	}
</script>
<script language="javascript">
	//
	var id2 =  '';
	var cnt2 =  '';
	if(!id2)
	id2=1;
	else
	var id2=document.getElementById('idvals').value;
	var endid2;
	function addEvent2()
	{
		id2++;
		var arrlicen2=new Array();
		var ni2 = document.getElementById('newdiv2');
		var numi2 = document.getElementById('theValues');
		var num2 = (document.getElementById("theValues").value -1)+ 2;
		//alert(num);
		numi2.value = num2;
		var divIdName2 = "newSelector"+num2;
                  newitem2='<input type="hidden" name="old_docids[]" /><span id="delimg'+id2+''+num2+'" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::root(); ?>templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload('+id2+''+num2+','+num2+');"/></span><span id="uploadfile'+id2+''+num2+'" style="float:left;font-size:10px;width:auto;padding-right:5px;"></span><input type="hidden" checked="" id="lineuploads'+id2+''+num2+'" name="attachmnent[]" ><div class="clear"></div></br>';
		//newitem2='<div id="upload_file"><div class="lineitem_pan_row"><p style="padding-top: 30px;"><span class="grey_12">Additional Document/Specifications #'+id2+':</span><div style="padding: 10px 0pt 10px 5px; height:30px;" class="lineitem_pan"><span id="delimg2'+id2+'" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::root(); ?>templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload(2'+id2+');"/></span><span id="upload_file2'+id2+'" style="float:left;font-size:10px;width:auto;padding-right:5px;"><a href="javascript:linetaskupload(2'+id2+');"><img alt="upload a file" src="<?php echo Juri::root(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span></div><input type="hidden" checked="" id="line_uploads2'+id2+'" name="attachmnent[]" ><div style="float: left; padding-left: 0px;"><span id="requiredoprice2'+id2+'" style="display:none;"><input type="checkbox" value="1" name="require_docprice[]" id="docprice'+id2+'" onclick="javascript:check_require_docprice('+id2+')"><input type="hidden" name="hidden_require_docprice[]" value="0" id="hidden_docprice'+id2+'" /><strong>Require</strong> vendors to assign a <strong>Dollar Value </strong>to this Attachment.</span></div><div class="color_butons"><a href="javascript:removeEvent2();"><img alt="Upload another attachment" src="<?php echo Juri::root(); ?>components/com_camassistant/skin/images/removeattachement.gif"></a></div><div class="clear"></div></div><div class="clear"></div>';

		var newdiv2 = document.createElement('div');
		newdiv2.setAttribute("id",divIdName2);
		newdiv2.innerHTML = newitem2;
		ni2.appendChild(newdiv2);
                 linetaskupload(id2+''+num2);
	}
 var id2 =  '';
	var cnt2 =  '';
	if(!id2)
	id2=1;
	else
	var id2=document.getElementById('idvals').value;
	var endid2;
	function addEventa2(id2)
	{
		//document.getElementById("removeevent2").style.display = "block";
		/*if (id1<10)
		{ */

	//alert(id2);
	//var id2=1;
		//id2++;
               // alert(id2);
			var arrlicen2=new Array();
			var ni2 = document.getElementById('newdiva2'+id2);
			var numi2 = document.getElementById('theValue');
			var num2 = (document.getElementById("theValue").value -1)+ 2;
			//alert(num);
			numi2.value = num2;
			var divIdName2 = "newSelector"+num2;

                          newitem2='<table><tr><input type="hidden" name="old_docids[]" /><td><span id="delimg'+id2+''+num2+'" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::root(); ?>templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload('+id2+''+num2+','+num2+');"/></span></td><td><span id="uploadfile'+id2+''+num2+'" style="float:left;width:auto;padding-right:5px; font-size:14px;"></span></td><input type="hidden" value=" " name="linetask_uploads_2'+id2+'[]" id="lineuploads'+id2+''+num2+'"  ></tr></table>';


			var newdiva2 = document.createElement('div');
                        //alert(newdiva2);
			newdiva2.setAttribute("id",divIdName2);
			newdiva2.innerHTML = newitem2;
			ni2.appendChild(newdiva2);
	//}
	/*if(id1==10)
		document.getElementById("addevent1").style.display = "none";*/

		linetaskupload(id2+''+num2);
	}

	function removeEvent2()
	{
		divNum2 = document.getElementById("theValues").value;
		if(divNum2 != 0 )
		{
			var d2 = document.getElementById('newdiv2');
			var olddiv2 = document.getElementById("newSelector"+divNum2);
			d2.removeChild(olddiv2);
			var numi2 = document.getElementById('theValues');
			var num2 = document.getElementById("theValues").value -1;
			numi2.value = num2;
		}
		id2--;
	}
</script>

<script language="javascript" type="text/javascript">
//Added this code by Prasad on 23 sept 2011
//For require task vendor price and require document price checkboxes
function check_hiddenvalue(price_id)
{
	//alert(document.getElementById('price'+price_id).checked);
	if(document.getElementById('price'+price_id).checked==true)
	document.getElementById('hidden_price'+price_id).value=1;
	else
	document.getElementById('hidden_price'+price_id).value=0;
}
//
function check_require_docprice(doc_id)
{
	//alert(document.getElementById('price'+price_id).checked);
	if(document.getElementById('docprice'+doc_id).checked==true)
	document.getElementById('hidden_docprice'+doc_id).value=1;
	else
	document.getElementById('hidden_docprice'+doc_id).value=0;
}
</script>

<script type="text/javascript">


<!--
	function validateForm( frm ) {
		var valid = document.formvalidator.isValid(frm);
		if (valid == false) {
			// do field validation
			// your custom code here
			return false;
		} else {
			frm.submit();
		}
	}
	function fun_showdiv()
	{
		document.getElementById('showdiv').style.display='';
	}
	/*function open_new_window(url)
	{
	new_window = window.open(url,'window_name','toolbar=0,menubar=0,resizable=0,dependent=0,status=0,width=550,height=450,left=25,top=25')
	}*/

// -->
G = jQuery.noConflict();
function getcounty(){
	var frm = document.adminForm;
	inputString=G('#property_id').val();
		//alert(inputString);
		G.post("index2.php?option=com_camassistant&controller=rfp&task=getcounty", {queryString: ""+inputString+""}, function(data){
		//alert(data);
		if(data==''){
		G('#user_email').css('display','none');
		G('#user_email').val('');
		}else{
	    G('#user_email').css('display','block');
		G('#user_email').val(data);
		 /*alert('Please enter your email ID');
 		frm.email.focus();
  		return ;*/
		}
		});


	}

</script>
<?php
if(!$idcnt)
$idcnt=0;

?>
<script language="javascript" type="text/javascript">
//var id1 = <?php echo $idcnt;?>;
var id3;
var endid3;
var endid1;
function addEvent3()
{

	if(id1<7)
	{
		id1++;
		var ni = document.getElementById('myDiv');
		var numi = document.getElementById('thesValue');
		var num = (document.getElementById("thesValue").value -1)+ 2;
		numi.value = num;
		var divIdName = "newSelect"+num;
		newitem="";
		newitem+='<?php echo JHTML::_('select.genericlist', $industryList, 'industry_id[]', 'size="1" '.$style.' '.$idisabled.'  style="width:283px;" class="inputbox"', 'value', 'text', $rfpinfo->industry_id);?>';
		var newdiv = document.createElement('div');
		newdiv.setAttribute("id",divIdName);
		newdiv.innerHTML = newitem;
		ni.appendChild(newdiv);
	}
}
</script>


<style type="text/css">
.white_light_link {
	background-color:#FFF;
	border:1px solid #5096DB;
	display:none;
	height:250px;
	left:25%;
	overflow:auto;
	padding:5px;
	position:absolute;
	top:800px;
	bottom:0px;
	width:50%;
	z-index:1002;
}
</style>
<div id="vender_right2">
<?php $RFP=$this->userinfo;  ?>



<!-- sof table pan -->
<div class="table_pannel">


<div class="head_greenbg2"><!--sof rfp box-->

<div class="proposal_form">
<form action="<?php echo JRoute::_( 'index.php' );?>" method="post" name="adminForm" id="adminForm" class="form-validate" enctype="multipart/form-data">

<table width="100%" cellpadding="0" cellspacing="0" id="create_rfp">
<tr><td width="50%" valign="top" class="create-left" style="border-right:1px solid #DEDEDE;">

<div class="signup">
<label>Select Property:<span class="redstar">*</span> </label>
<span id="prop_list">

<?php echo JHTML::_('select.genericlist', $propertyList, 'property_id', 'size="1" class="inputbox "    onchange="addproperty(this.value);" onblur="getcounty();" "', 'value', 'text', '');?>
</span>
</div>
<div class="signup">
<table><tr><td width="80">
County:</td><td><input style="display:none; background:#ffffff; border-color:#ffffff; font-weight:bold;" type="text" name="user_email" id="user_email" value="" readonly=""/></td></tr></table>
</div>

<div class="signup">
<label>Reference Name for this RFP:<span class="redstar">*</span> </label>
<input type="text"  onblur="if (this.value == '') this.value = 'Enter your own reference name for this RFP'" onfocus="if (this.value == 'Enter your own reference name for this RFP') this.value = ''" value="Enter your own reference name for this RFP" style="width: 275px;" name="projectName">
</div>

<div class="signup">
<label>Industry from which you would like to obtain quotes:<span class="redstar">*</span></label>
<?php echo JHTML::_('select.genericlist', $industryList, 'industry_id[]', 'size="1" style="width:283px;" class="inputbox"', 'value', 'text', '');?>
</div>

<div id="myDiv"></div><input name="thesValue" type="hidden" id="thesValue" value="0">
					<div align="right" style="padding-right:180px;"><span id="addEvent3"><a href="javascript:addEvent3();" class="normalhyperlink">Add onemore</a></span>
	</div>
<div class="border">&nbsp;</div>

<div class="row"> <span >

</div>

<div id="myDiv"></div>


<div class="signup2">
<label>Where on the Property the work is to be performed<br>
 (Check appropriate boxes):<span class="redstar">*</span>
 </label><div class="clear"></div>

<div class="chekbox_pan">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tbody><tr>
    <td align="right" width="10%"><input type="checkbox" value="All Lawn and Planting Areas" name="work_perform[]" id="work_perform1" onclick="showperform('1','');"></td>
    <td width="90%">All Lawn &amp; Planting Areas</td>
  </tr>
  <tr id='sub_perform1' style="display:none;">
    <td align="right">&nbsp;</td>
    <td><input type="checkbox" style="vertical-align: bottom;" value="Include private residences/lots" name="work_perform[]">
      Include private residences/lots</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Common areas" name="work_perform[]" id="work_perform2" ></td>
    <td>Common areas</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Gate/Guard House" name="work_perform[]" id="work_perform3" ></td>
    <td>Gate/Guard House</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Club House" name="work_perform[]" id="work_perform4" ></td>
    <td>Club House</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Pool" name="work_perform[]" id="work_perform5" ></td>
    <td>Pool</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Parking Lot" name="work_perform[]" id="work_perform6" ></td>
    <td>Parking Lot</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Recreation Center" name="work_perform[]" id="work_perform7" ></td>
    <td>Recreation Center</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Mobile Patrol" name="work_perform[]" id="work_perform8" ></td>
    <td>Mobile Patrol</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Virtual/Not on site" name="work_perform[]" id="work_perform9" ></td>
    <td>Virtual/Not on site</td>
  </tr>
  <tr>
    <td align="right"><input type="checkbox" value="Other-" name="work_perform[]" id="work_perform" onclick="showperform2('1','other');"></td>
    <td >Other -
          <input type="text" value="Please Specify" onblur="if (this.value == '') this.value = 'Please Specify'" onfocus="if (this.value == 'Please Specify') this.value = ''" id="sub_performother" class="other_tfield" name="work_perform[]" style="display:none;">
     </td>
  </tr>
 </tbody></table>
 </div>
 <div class="clear"></div>
</div>

<div class="signup">
<label>Frequency:<span class="redstar">*</span> </label>
<input type="text" value="One-Time, Annually, Monthly"  onblur="if (this.value == '') this.value = 'One-Time, Annually, Monthly'" onfocus="if (this.value == 'One-Time, Annually, Monthly') this.value = ''"style="width: 275px;" name="frequency">
</div>

<div class="signup">
<div class="state">
<label>Projected Start Date:<span class="redstar">*</span>   	</label>
<div class="clear"></div>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tbody><tr>
    <td align="left" width="70" valign="top">
	<input type="text" name="startDate" id="startDate" value="" onchange="javascript:validate_proposaldate()" readonly="readonly"/>
<script type="text/javascript">
G('#startDate').datepicker({
dateFormat: 'mm-dd-yy',minDate: 'new',changeYear: true,changeMonth:true
});
</script>
	</td>
  </tr>
</tbody></table>
 </div>

<!--<div class="zip">
<label>Projected End Date:<span class="redstar">*</span></label>

<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tbody><tr>
    <td><div class="clear"></div>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tbody><tr>
    <td align="left" width="150" valign="top">
	<input type="text" name="endDate" id="endDate" value="" onchange="javascript:validate_proposaldate()" readonly="readonly"/>
<script type="text/javascript">
G('#endDate').datepicker({
dateFormat: 'mm-dd-yy',minDate: 'new',changeYear: true,changeMonth:true,minDate: 'new'
});
</script>

	</td>
  </tr>
</tbody></table></td>
    <td></td>
  </tr>
</tbody></table>


</div>-->
</div>


<div class="signup">
<label>Maximum number of Proposals to Receive:<span class="redstar">*</span> </label>
	<select name="maxProposals">
	<option value="0">Please Select </option>

			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			</select>
</div>


<div class="signup">
<div class="state">
<label>Proposals must be submitted no later than:<span class="redstar">*</span>   	</label>
</div>

<div class="">
<table cellspacing="0" cellpadding="0" border="0" width="277">
  <tbody><tr>
     <td>
	 <input type="text" name="proposalDueDate" id="proposalDueDate" value="" onkeydown="javascript:validate_proposaldate()" onchange="javascript:validate_proposaldate()" onblur="javascript:validate_proposaldate()"/>
	 <script type="text/javascript">
	 G('#proposalDueDate').datetimepicker({
			dateFormat: 'mm-dd-yy',
			//minDate: '10D',
			//minDate: '10D',
			minDate: 'new',
			timeFormat: 'hh:mm',
			changeYear: true,changeMonth:true,

			});
/*G('#proposalDueDate').datetimepicker({
			dateFormat: 'mm-dd-yy',
			//minDate: '10D',
			//minDate: '10D',
			minDate: 'new',changeYear: true,changeMonth:true,
			ampm: true,

 beforeShowDay: function (date) {
        if (date.getDay() == 0 || date.getDay() == 1 || date.getDay() == 6) {
                    return [false, ''];
                } else {
                    return [true, ''];
                }

     }

});*/
//G('#proposalDueDate').datetimepicker({ 	ampm: true });

//
function  changeStartdate()
{
	var d = new Date();
		var dd=d.getDate();
		var mm=d.getMonth() + 1;
		var yy=d.getFullYear();
		var cd=new Date(yy,mm,dd);
		var dateBits1=document.getElementById('startDate').value.split('-');
		var d1=new Date(dateBits1[2],dateBits1[0],dateBits1[1]);
		var diff=Math.ceil(d1-cd);
		var one_day=1000*60*60*24;
		var days=Math.ceil(diff/(one_day));
		var mindays=parseInt(days +10)+'D';
		//alert(mindays);
		G('#proposalDueDate').datetimepicker({
		dateFormat: 'mm-dd-yy',
		//minDate: '10D',
		minDate: mindays,
		changeYear: true,changeMonth:true,
		ampm: true
		});
}
//
function validate_proposaldate()
{
	var frm=document.adminForm;
	if(frm.startDate.value && frm.endDate.value && frm.proposalDueDate.value)
	{
		/*var days1=4;
		var mindays1=parseInt(days1 +10)+'D';
		alert(mindays1);*/
		var dateBits1=frm.startDate.value.split('-');
		var dateBits2=frm.endDate.value.split('-');
		var dateBits3=frm.proposalDueDate.value.split('-');
		//date1=dateBits1[2] + '-' + dateBits1[0]+ '-' + dateBits1[1] + ' 00:00:00';
		var yeartime=dateBits3[2].split(' ');
		//date2=yeartime[0] + '-' + dateBits2[0]+ '-' + dateBits2[1] + ' '+yeartime[1]+':00';
		var d1=new Date(dateBits1[2] , dateBits1[0],dateBits1[1]);
		var d2=new Date(dateBits2[2] , dateBits2[0],dateBits2[1]);
		var d3=new Date(yeartime[0] , dateBits3[0],dateBits3[1]);
		var diff=d1-d2;
		if(d1>d3 && d2>d3) {
		document.getElementById("msg_id").style.display='none';
		} else if(d1<=d3 || d2<=d3) {
		document.getElementById("msg_id").style.display='';
		} else {
		document.getElementById("msg_id").style.display='none';
		}
	}
}
//
function fun_sitevisit(id)
{
	if(id=='bid')
	{
		document.getElementById("bidtxt").style.display='';
		document.getElementById("bidinfo").style.display='';
		document.getElementById("rectxt").style.display='none';
		document.getElementById("recinfo").style.display='none';
		document.getElementById("notid").style.display='none';
	} else if(id=='rec'){
		document.getElementById("bidtxt").style.display='none';
		document.getElementById("bidinfo").style.display='none';
		document.getElementById("rectxt").style.display='';
		document.getElementById("recinfo").style.display='';
		document.getElementById("notid").style.display='none';
	} else {
		document.getElementById("bidtxt").style.display='none';
		document.getElementById("bidinfo").style.display='none';
		document.getElementById("rectxt").style.display='none';
		document.getElementById("recinfo").style.display='none';
		document.getElementById("notid").style.display='';
	}
}

</script>

	 </td>
  </tr>
</tbody></table>
</div>
</div>

<div class="signup2">
<label>
Site Visit:<span class="redstar">*</span>
 </label><div class="clear"></div>

<div class="chekbox_pan">
<input type="hidden" name="details" id="details" value="no" />
<table cellspacing="0" cellpadding="0" border="0" width="100%">
  <tbody><tr>
    <td align="right" width="10%"><input type="radio" value="Required prior to bidding" name="site_visit[]" onclick="javascript:fun_sitevisit('bid');"></td>
    <td style="padding-top:5px;" width="90%">Required prior to bidding</td>
  </tr>
  <tr  align="right" id="bidtxt" style="display:none">
<?php /*?>    <td>&nbsp;</td><?php */?>
  <?php /*?>  <td align="justify"><p style="padding-left: 15px;float:left;">Please specify required bidders meeting in text field below:</p> </td><?php */?>
  </tr>
  <tr id="bidinfo" style="display:none">
    <td align="right">&nbsp;</td>
    <td height="50"><textarea style="border: 1px solid rgb(215, 215, 215); padding: 5px; background: rgb(247, 247, 247) none repeat scroll 0% 0%; width: 230px; height: 30px; font-family: arial; font-size: 12px; color: rgb(125, 125, 125); -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="bidders_info[]" onblur="if (this.value == '') this.value = 'Please provide details here'" onfocus="if (this.value == 'Please provide details here') this.value = ''">Please provide details here</textarea></td>
  </tr>
  <tr>
    <td align="right"><input type="radio" value="Recommended"  name="site_visit[]" onclick="javascript:fun_sitevisit('rec');"></td>
    <td style="padding-top:5px;">Recommended</td>
  </tr>
  <tr id="rectxt" style="display:none">
  <?php /*?>  <td align="right">&nbsp;</td><?php */?>
 <?php /*?>   <td><p style="padding-left: 15px;">Please specify required bidders

	  meeting in text field below:</p> </td><?php */?>
  </tr>
  <tr id="recinfo" style="display:none">
    <td align="right">&nbsp;</td>
    <td height="50"><textarea style="border: 1px solid rgb(215, 215, 215); padding: 5px; background: rgb(247, 247, 247) none repeat scroll 0% 0%; width: 230px; height: 30px; font-family: arial; font-size: 12px; color: rgb(125, 125, 125); -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="bidders_info[]" onblur="if (this.value == '') this.value = 'Please provide details here'" onfocus="if (this.value == 'Please provide details here') this.value = ''">Please provide details here</textarea></td>
  </tr>
  <tr>
    <td align="right"><input type="radio" value="Not Required"  name="site_visit[]" onclick="javascript:fun_sitevisit('not');">
	<span id='notid' style="display:none"><input type="hidden" name="bidders_info[]" value="Not Required" /></span></td>
    <td style="padding-top:5px;">Not Required </td>
  </tr>

 </tbody></table>
 </div>
 <div class="clear"></div>
</div>
<br><br><br>
</td>
<td width="50%" valign="top" class="create-right" style="padding-left:10px; vertical-align:top;">
<div class="lineitem_pan_row">
<span class="grey_12">Special Requirements: </span>
<div class="lineitem_pan">
		 <?php if(count($reqCatList)>0)  {
		 		for($i=0;$i<count($reqCatList);$i++) { ?>
            <div>
					<table width="100%"  border="0" cellpadding="0" cellspacing="0" >
					  <!--  <tr align="left" valign="middle" >
                        <TD class="liteblue" height=25 width=20><input type="checkbox" id="req_parentid" name="req_parentid[]" value="<?php echo $reqCatList[$i]['id'];?>"  onclick="javascript: openmenu(<?php //echo $reqCatList[$i]['id'];?>)" /></td>
                        <td  class="liteblue" style="padding-left:-60px;"><?php //echo $reqCatList[$i]['req_title']; ?></td>
                        </tr>-->

                        <TR vAlign=center align=left>

						<?php if($reqCatList[$i][id]=='1') { ?>
    <TD class=liteblue height=25 width=20><input type="checkbox" id="licenced" name="req_parentid[]" value="<?php echo $reqCatList[$i]['id'];?>"  onclick="javascript: openmenu(<?php echo $reqCatList[$i]['id'];?>)" /></TD>
	<?php } else { ?>
	 <TD class=liteblue height=25 width=20><input type="checkbox" id="req_parentid" name="req_parentid[]" value="<?php echo $reqCatList[$i]['id'];?>"  onclick="javascript: openmenu(<?php echo $reqCatList[$i]['id'];?>)" /></TD>
	<?php } ?>
    <TD width="603" class=liteblue style="PADDING-LEFT: 6px"><?php echo $reqCatList[$i]['req_title']; ?></TD></TR>

						<tr style="display:none;" id="submenu<?php echo $reqCatList[$i]['id'];?>">
				  		<td class="whitebg" colspan="2">
						<table width="100%" cellpadding="0" cellspacing="0" border="0">
						<?php $cnt = count($reqCatList[$i]['subcat']);
						for($j=0;$j<$cnt;$j++)  { ?>
						<tr><td style="padding-left:20px;"><input type="checkbox" id="sub_req_id<?php echo $reqCatList[$i]['id'];?>" name="sub_req_id[<?php echo $reqCatList[$i]['id'];?>][]" value="<?php echo $reqCatList[$i]['subcat'][$j]['id'];?>"  onclick="javascript: openmenu(<?php echo $reqCatList[$i]['subcat'][$j]['id'];?>)" /> - <?php echo $reqCatList[$i]['subcat'][$j]['req_title']; ?></td></tr>

						<tr style="display:none;" id="submenu<?php echo $reqCatList[$i]['subcat'][$j]['id'];?>">
				  		<td class="whitebg" colspan="2">
						<table width="100%" cellpadding="0" cellspacing="0" border="0">
						<?php if($reqCatList[$i]['subcat'][$j]['id']==12) {?>
						<tr id="liability<?php echo $reqCatList[$i]['subcat'][$j]['id'];?>" style="display:block"><td style="padding-left:40px;">$<input type="text" name="liabilityInsuranceAmount" id="liabilityInsuranceAmount" value="" style="width:80px;" onchange="javascript:format_val('liabilityInsuranceAmount','liabilityInsuranceAmount',this.value)" />  Minimum Aggregate Liability Insurance Amount Required</td></tr>
						<?php } ?>
						<?php $cnt2 = count($reqCatList[$i]['subcat'][$j]['subcat2']);
						for($k=0;$k<$cnt2;$k++)  { ?>
						<?php //print_r($reqCatList[$i]['ssubcat'][$j]['subcat2'][$k]['id']); ?>
						<tr><td style="padding-left:30px;">
						<?php if(($reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']=='13')||($reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']=='14')) { ?>
						<?php /*?><input type="radio" id="req_id<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id'];?>" name="req_id[<?php echo $reqCatList[$i]['subcat'][$j]['id'];?>][]"  value="<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']; ?>"  onclick="javascript:specify_other(<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id'];?>)" /> - <?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['req_title']; ?><?php */?>
						<?php } else {
						if($reqCatList[$i]['subcat'][$j]['id']=='11'){ ?>

						<input type="radio" id="req_id<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id'];?>" name="req_id[<?php echo $reqCatList[$i]['subcat'][$j]['id'];?>][]"  value="<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']; ?>"  <?php if($reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']==14) {?> onclick="javascript:specify_other(<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id'];?>)" <?php } ?>/> - <?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['req_title']; ?>
						<?php } else {?> <input type="checkbox" id="req_id<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id'];?>" name="req_id[<?php echo $reqCatList[$i]['subcat'][$j]['id'];?>][]"  value="<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']; ?>"  <?php if($reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']==14) {?> onclick="javascript:specify_other(<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id'];?>)" <?php } ?>/> - <?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['req_title']; ?> <?php }
						} if($reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']=='20'){ ?>
						<tr><td>NOTE: Workerâs Comp. Exemption Certificates are commonly mistaken for a Workerâs Comp. policy.  Please be aware that these "exemptions" do NOT offer the property manager/association/building owner any form of protection against liability for an injured workerâs loss of wages and/or medical expenses if an on-the-job injury occurs. Consult your legal advisor for your unique situation, as laws vary by jurisdiction.</td></tr>
						<?php } ?>
						</td></tr>
						<?php /*?><?php if($reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id']==14) {?>
						<tr id="specOther<?php echo $reqCatList[$i]['subcat'][$j]['subcat2'][$k]['id'];?>" style="display:none"><td style="padding-left:40px;">Please specify: $<input type="text" name="otherValue1" id="otherValue1" value="1000000" style="width:80px;" /> / $<input type="text" name="otherValue2" id="otherValue2" value="1000000" style="width:80px;" /> / $<input type="text" name="otherValue3" id="otherValue3" value="1000000" style="width:80px;" /></td></tr>
						<?php }  ?><?php */?>
						<?php } ?>
						</table></td>
						</tr>
						<?php } ?>
						</table></td>
						</tr>
                    </table></div>
				  <?php } }?>
</div>

<div class="clear"></div>
</div>
<br><br/><div align="right" id="topborder_row">
</div>
<span class="blue_small">Who Will Define the SCOPE OF WORK (SOW)? <a style="text-decoration: none;" title="Click here" class="modal" rel="{handler: 'iframe', size: {x: 680, y: 530}}" href="index2.php?option=com_content&amp;view=article&amp;id=125&amp;Itemid=113"><img style="margin-top: -4px; margin-right: -8px; vertical-align:middle;" alt="info" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon3.png"></a></span><br>
<br>

<!--  sof line item pan -->
<div class="downloadfile">

<div style="padding-left: 15px;" class="lineitem_pan_row">
<script language="javascript" type="text/javascript">
function show_linetask()
{
	var inputString1=document.getElementById("property_id").value;
	if(!inputString1){
	alert('Please Select Property')
	} else {
	document.getElementById('line_task').style.display='';
	document.getElementById('upload_file').style.display='';
	if(document.getElementById("projectName").value!='' && document.getElementById("projectName").value!='Reference')
	document.getElementById("title_task1").value=document.getElementById("projectName").value;
	}
}
//Fun. to show the  specification of other value if it is checked
function specify_other(otherid)
{
	if(otherid==14)
	{
		if(document.getElementById('req_id'+otherid).checked==true)
		document.getElementById('specOther'+otherid).style.display='';
		else
		document.getElementById('specOther'+otherid).style.display='none';
	} else
	document.getElementById('specOther14').style.display='none';
}
</script>
<div>
<input type="radio" name="defsow_who" value="self"  onclick="javascript:showme()"/><strong>Me</strong> - I am ready to define the SOW and create a RFP</div>
<table cellspacing="0" cellpadding="0" border="0" width="100%" id="sow_me" style="display:none">
  <tbody>
  <tr>
    <td align="right" valign="top"><input type="radio" name="choose_tasks" value="no" onclick="javascript:show_linetask();"/></td>
    <td style="padding-top:1px;">
Define Line Items Manually</td>
  </tr>
  <tr> <td align="right" width="7%" valign="top"><input type="radio" name="choose_tasks"  class="modal"  value="yes" onclick="javascript:show_linetask();"/></td>
    <td style="padding-top:1px;" width="45%">Use RFP Wizard</td>

  </tr>
</tbody></table>

<!-- modified by anand kumar on 21-7-11 -->

<input type="radio" name="defsow_who"  value="someother" onclick="javascript:showsomeone()"/><strong>Someone Else</strong> - This is a presolicitation to define the Scope of Work (SOW)
<table cellspacing="0" cellpadding="0" border="0" width="100%" id="someone_me" style="display:none">
  <tbody>
  <tr> <td align="right" width="7%" valign="top"><input type="radio" name="choose_tasks" onclick="javascript:sowrfp('pro_hired');"   value="1"/></td>
    <td style="padding-top:2px;" width="93%"><strong>SOW is Completed </strong>-I have a completed Scope of Work document to upload.</td>

  </tr>


  <tr> <td align="right" width="7%" valign="top"><input type="radio" name="choose_tasks" onclick="javascript:sowrfp('pro_hired_camassitant');"   value="2"/></td>
    <td style="padding-top:2px;" width="93%"><strong>I Need a SOW Created  </strong>- I would like to hire an <strong>Engineer/Architect </strong> to define the SOW needed to meet our project goals. (This option will allow you to get pricing for the design or design/build of a project). This option will also send your RFP to Engineers and Architects only (regardless of your Industry selection above)</td>
  </tr>
  <tr> <td align="right" colspan="2" valign="top">
		<table width="100%" border="0" cellspacing="0" cellpadding="0" id="someone_engineer" style="display:none">
			<tr> <td align="right" width="12%" valign="top"><input type="radio" name="choose_tasks1" id="choose_tasks1a" onclick="javascript:sowrfp('pro_hired_camassitant1');"   value="2choose"/></td>
				<td style="padding-top:2px;" width="88%" align="left">I would like to use a <strong>Wizard</strong> to help define my project goals. (PREFERRED)</td>
		  </tr>

		  	<tr>
				<td width="12%"></td>
			  <td align="left" valign="top" style="padding-left:7px">
				  <table width="100%" border="0" cellspacing="0" cellpadding="0" id="someone_engineer1" style="display:none">
					<tr> <td align="left" width="19%" valign="top"><input type="radio"  name="choose_tasks2" id="choose_tasks21" onclick="javascript:sowrfp('pro_hired_camassitant1_eng');"   value="Engineer"/><strong>Engineer</strong></td>
				  </tr>
					<tr> <td align="left" width="19%" valign="top"><input type="radio" name="choose_tasks2" id="choose_tasks22" onclick="javascript:sowrfp('pro_hired_camassitant2_arc');"   value="Architect"/><strong>Architect</strong></td>
				  </tr>
				</table>
			  </td>
			  </tr>

			<tr> <td align="right" width="12%" valign="top"><input type="radio" name="choose_tasks1" id="choose_tasks1b" onclick="javascript:sowrfp('pro_hired_camassitant2');"   value="2"/></td>
				<td style="padding-top:2px;" width="88%" align="left">I want to <strong>define</strong> all line <strong>items manually, OR</strong> I prefer to <strong>upload a document</strong> that details the desired project results.</td>
		  </tr>
		  <tr>
				<td width="12%"></td>
			  <td align="left" valign="top" style="padding-left:7px">
				  <table width="100%" border="0" cellspacing="0" cellpadding="0" id="someone_engineer2" style="display:none">
                  <tr> <td align="left" width="19%" valign="top"><input type="radio"  name="choose_tasks3" id="choose_tasks31" onclick="javascript:show_linetask();"   value="Engineer"/><strong>Engineer</strong></td>
				  </tr>
					<tr> <td align="left" width="19%" valign="top"><input type="radio" name="choose_tasks3" id="choose_tasks32" onclick="javascript:show_linetask();"   value="Architect"/><strong>Architect</strong></td>
				  </tr>
					<?php /*?><tr> <td align="left" width="19%" valign="top"><input type="radio"  name="choose_tasks3" id="choose_tasks31" onclick="javascript:sowrfp('pro_hired_camassitant1_eng1');"   value="Engineer"/><strong>Engineer</strong></td>
				  </tr>
					<tr> <td align="left" width="19%" valign="top"><input type="radio" name="choose_tasks3" id="choose_tasks32" onclick="javascript:sowrfp('pro_hired_camassitant2_arc1');"   value="Architect"/><strong>Architect</strong></td>
				  </tr><?php */?>
				</table>
			  </td>
			  </tr>

		</table>
  </td></tr>


  <tr> <td align="right" width="7%" valign="top"><input type="radio" name="choose_tasks"  onclick="javascript:sowrfp('sow_hired');"  value="3"/></td>
    <td style="padding-top:2px;" width="93%"><strong>Professional Consultation Needed</strong> - I want to have up to 3 Industry Professionals perform a site visit and define the SOW, for which I will create a separate RFP. I understand that this SOW is to be completed free of charge, and that I have a responsibility to meet the vendor(s) on-site.</td>

  </tr>
</tbody></table>



<!-- modified ending by anand kumar on 21-7-11 -->

</div>



<div class="clear"></div>
</div>
<!-- eof line item pan -->

<!--  sof line item pan -->
<div id='line_task' style="display:none">
<div class="lineitem_pan_row"><p style="padding-top: 25px;"></p>
<span class="grey_12">Line Item #1:</span>

<!--<div id="counties" style="width:800px;"></div>
<div id="totallines"></div>-->

<div class="lineitem_pan">
  <input type="text"  id="title_task1"  value="Enter Title of Line Item Task" onblur="if (this.value == '') this.value = 'Enter Title of Line Item Task'"
   onfocus="if (this.value == 'Enter Title of Line Item Task') this.value = ''"  class="other_tfield" style="width: 300px;" name="linetaskname_210[]" >&nbsp;<span class="redstar">*</span>
  <!-- Re mModified by sateesh on 01-08-11-->

   <input type="text" value="Frequency" id="frequency1" onblur="if (this.value == '') this.value = 'Frequency'" onfocus="if (this.value == 'Frequency') this.value = ''" class="other_tfield" style="width: 239px; margin-left: 25px;" name="rfpreference_210[]">
  <span class="hasTip2" title="Info ::<div style='font-size:13px; width:500px; text-align:left'>Example: one-time, upon scheduled visits, daily, weekly, bi-weekly, monthly, quarterly, annually, or specific dates.</div>"> <img style="margin-bottom:-8px; margin-right: 0px;" alt="info" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/info_icon3.png"></span>
  <!-- Re mModified by sateesh on 01-08-11-->
  <br>
<div class="clear"></div><p style="padding-top: 5px;"></p>
<textarea style="border: 1px solid rgb(215, 215, 215); padding: 5px; background: rgb(247, 247, 247) none repeat scroll 0% 0%; width: 612px; height: 45px; font-family: arial; font-size: 12px; color: rgb(125, 125, 125); -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" id="line_taskdesc1" name="task_desc_210[]">
</textarea>
</div>

<div style="float: left; padding-left: 10px;">
<strong>
<input type="checkbox" id="price1" name="is_req_taskvendors_210[]" value="1" onclick="javascript:check_hiddenvalue(1);"/>
<input type="hidden" name="hidden_taskvendors_210[]" value="0" id="hidden_price1" />
<input type="hidden"  name="linetask_uploads_210[]" id="line_uploads10"  >
<input type="hidden" checked="" id="line_taskno" name="line_taskno[]" value="210" >
Require</strong> vendors to assign a <strong>Dollar Value</strong> to this Line Item. </div>
<div class="clear"></div>
<div class="color_butons">

 <a href="javascript:addEvent1();" ><img alt="Add another line item task" src="<?php echo Juri::root(); ?>components/com_camassistant/skin/images/addline.gif"></a></div></br></br><span id='upload_file10' style="float:left;width:auto;padding-right:5px"><a href="javascript:addEventa2('10');"><img alt="upload a file" src="<?php echo Juri::root(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span><span id="delimg10" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::root(); ?>templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload_line(10);"  /></span>
<div class="clear"></div><br/><br/><br/>
<div id="newdiva210"></div>
</div>
</div>
<!-- eof line item pan -->

	<div id="newdiv"></div>
<input name="hidden" type="hidden" id="theValue" value="0">
<input name="hidden" type="hidden" id="idval" value="0">
<!--  sof line item pan -->
<?php /*?><p style="padding-top: 20px;"></p>
<div id="upload_file" style="display:none">
<div class="lineitem_pan_row">
<span class="grey_12">Additional Document/Specifications:

</span>
<div style="padding: 10px 0pt 10px 5px;" class="lineitem_pan">
<?php /*?><input type="file" name="attachmnent[]" />

<span id='upload_file21' style="float:left;font-size:10px;width:auto;padding-right:5px"><a href="javascript:addEvent2();"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span></br></br>
<!--<span id='upload_file21' style="float:left;font-size:10px;width:auto;padding-right:5px"><a href="javascript:linetaskupload('21');"><img alt="upload a file" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadfile.gif"></a></span>-->
<input type="hidden"  name="attachmnent[]" id="line_uploads21"  >
<div class="clear"></div>

<!--<div style="float: left; padding-left: 10px;">
<?php //echo "<pre>"; print_r($_REQUEST); ?>
<span id="requiredoprice21" style="display:none;"  >
<input type="checkbox" name="require_docprice[]" id="docprice1" value="1" onclick="javascript:check_require_docprice(1);" />
<input type="hidden" name="hidden_require_docprice[]" value="0" id="hidden_docprice1" />
<strong>Require</strong> vendors to assign a <strong>Dollar Value </strong>to this Attachment.</span></div>
<div class="color_butons"><a href="javascript:addEvent2();"><img alt="Upload another attachment" src="<?php echo Juri::base(); ?>components/com_camassistant/skin/images/uploadanother.gif"></a>
</div>
<div class="clear"></div>-->

<!-- eof line item pan -->
	<div id="newdiv2"></div><span id="delimg21" style="display:none" title="Remove From RFP"><img src="<?php echo Juri::root(); ?>templates/camassistant_left/images/delete.gif" alt="delete" style="cursor:pointer;" onclick="javascript:deletelineupload(21);"  /></span>
	<input name="hidden2" type="hidden" id="theValues" value="0">
	<input name="hidden" type="hidden" id="idvals" value="0">
<!--  sof line item pan -->
</div></div><div class="clear"></div>
</div>
<?php */?>

<script language="javascript" type="text/javascript">
//G = jQuery.noConflict();
function format_val(id,fieldname,fieldvalue){
G.post("index2.php?option=com_camassistant&controller=rfp&task=vendor_proposal_edit_format_val", {id: ""+id+"",fieldname: ""+fieldname+"",fieldvalue:""+fieldvalue+""}, function(data){
if(data.length >0) {
var x= fieldname+id;
G("#"+id).val(data);
//E("#task_price1").val(data);
}
});
}
function add_commas(x,id)
{

   //  test strString consists of valid characters listed above
    var strValidChars = "0123456789.,";
   var strChar;
   var blnResult = true;
   for (i = 0; i < x.length && blnResult == true; i++)
      {
      strChar = x.charAt(i);
      if (strValidChars.indexOf(strChar) == -1)
         {
         blnResult = false;
         }
      }
	  if(blnResult == false)
	  {
   		alert('Please enter valid number');
		document.getElementById(id).value = parseFloat(0).toFixed(2)+'';
	  } else {
		var val = parseFloat(x).toFixed(2)+'',
			  rgx = /(\d+)(\d{3}[\d,]*\.\d{2})/;
		  while (rgx.test(val)) {
			val = val.replace(rgx, '$1' + ',' + '$2');
		  }
		document.getElementById(id).value = val;
	 }
}
/*function add_commas(x,id)
{
	//alert(x)
	var val = x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
	document.getElementById(id).value = val;
}
*/</script>
<!-- eof line item pan -->
<table width="100%">
    <tbody><tr>
      <td align="left" width="4%" valign="middle"><input type="checkbox" value="terms" name="terms"></td>
      <td height="50" width="96%" valign="middle">I have read and agree to the <strong>Terms and Conditions</strong> of this website.<span class="redstar">*</span></td>
    </tr>
  </tbody></table>




</td></tr></table>
<input type="hidden" name="industry_id" value="<?php echo $_REQUEST['industry_id'];?>" />
<input type="hidden" name="rfpstatus" value="<?php echo $_REQUEST['rfpstatus'];?>" />
<input type="hidden" name="rfpapproval" value="<?php echo $_REQUEST['rfpapproval'];?>" />
<input type="hidden" name="status" value="<?php echo $_REQUEST['status'];?>" />
<input type="hidden" name="search" value="<?php echo $_REQUEST['search'];?>" />

<input type="hidden" name="option" value="com_camassistant" />
<input type="hidden" name="task" value="" />
<input type="hidden" name="rfp_type" value="submit_rfp" />
<input type="hidden" name="controller" value="rfp" />
<input type="hidden" name="Itemid" value="<?php echo $_REQUEST['Itemid'];?>" />
<?php echo JHTML::_( 'form.token' ); ?>

</form>

</div>
<!-- eof table pan -->

</div></div></div>
