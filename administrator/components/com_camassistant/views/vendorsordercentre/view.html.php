<?php
/**
 * @version		1.0.0 camassistant $
 * @package		camassistant
 * @copyright	Copyright Â© 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author		
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');

jimport( 'joomla.application.component.view' );

class vendorsordercentreViewvendorsordercentre extends Jview
{
	function display($tpl = null)
	{
	global $mainframe;
	$document = & JFactory::getDocument();
	
	
 			$model = $this->getModel('vendorsordercentre');
			
			
		
			$task = JRequest::getVar("task");
			
			if($task == "vendororderinfo")
			{
			$document->setTitle( JText::_('Vendor Order Details') );
	JToolBarHelper::title(   JText::_( 'Vendor Order Details' ), 'generic.png' );
			JToolBarHelper::back();
			JToolBarHelper::custom('lists','html.png','html.png','Control Panel',false);
			$order = $model->getOrderinfo(); 
			$this->assignRef('order',$order);
			$this->setLayout('orderinfo');
			}
			else
			{
			$document->setTitle( JText::_('Vendor Order Centre') );
	JToolBarHelper::title(   JText::_( 'Vendor Order Centre' ), 'generic.png' );
			$vendors = $model->getVendors(); 
			//echo "<pre>"; print_r($vendors); exit;
			JToolBarHelper::deleteList();
			JToolBarHelper::custom('lists','html.png','html.png','Control Panel',false);
			$pagination =  $model->getPagination();
			$this->assignRef('vendors',$vendors);
			//echo "<pre>"; print_r($this->vendors); exit;
			$this->assignRef('pagination',	$pagination);
			//echo "<pre>"; print_r($pagination); exit;	
		    $filter_order_Dir	= $mainframe->getUserStateFromRequest( 'filter_order_Dir',	'filter_order_Dir',	'asc','word' );
			$lists['order_Dir']	= $filter_order_Dir;
			$lists['order']		= $filter_order;
   	        $this->assignRef('lists', $lists);    
			$this->setLayout('vendorsordercentre');
			}
			parent::display($tpl);
	

	}

}
?>