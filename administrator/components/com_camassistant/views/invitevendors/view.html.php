<?php
/**
 * @version		1.0.0 cam assistant $
 * @package		cam_assistant
 * @copyright	Copyright © 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author		
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');

jimport( 'joomla.application.component.view' );

class InvitevendorsViewInvitevendors extends Jview
{
	function display($tpl = null){

global $mainframe, $context;
		JToolBarHelper::custom('newemail','html.png','html.png','New Email',false);
		JToolBarHelper::custom('lists','html.png','html.png','Control Panel',false);
		//JToolBarHelper::addNewX('exclude','EXCLUDE','html.png','EXCLUDE',false);
		JToolBarHelper::addNewX('invitation','New Invitation','html.png','EXCLUDE',false);
		JToolBarHelper::deleteList('Are you sure you want to remove these vendors ?','remove');

$filter_order		= $mainframe->getUserStateFromRequest( 'filter_order',		'filter_order',		'vendortype',	'cmd' );
		
    	$model	=& $this->getModel();
		$items			= $model->getData();
		
		$pagination = & $this->get( 'Pagination' );
		
	
   $filter_order_Dir	= $mainframe->getUserStateFromRequest( 'filter_order_Dir',	'filter_order_Dir',	'asc','word' );
		
		$lists['order_Dir']	= $filter_order_Dir;
		
		$lists['order']		= $filter_order;
    $this->assignRef('user',		JFactory::getUser());	
    $this->assignRef('lists',		$lists);    
  	$this->assignRef('result',		$items); 	
	$this->assignRef('pagination',	$pagination);
   		$managers = & $this->get('allmanagers');
		$this->assignRef('managers', $managers);
		
		$previous = & $this->get('newinvitations');
		$this->assignRef('previous', $previous);
		
		
		//$result = $this->get('invitevendors');
		//$this->assignRef('result', $result);
		$task	= JRequest::getVar( 'task');
		if($task == 'newexclude'){
		$this->setLayout('excludevendorform');
		}
		if($task == 'newinvitation'){
		$managers = & $this->get('allmanagers');
		$this->assignRef('managers', $managers);
		
		$msg = & $this->get('bodymsg');
		
		$this->assignRef('msg', $msg);
		
		$this->setLayout('newinvitation');
		parent::display($tpl);
		}
		if($task == 'newemailinvitation'){
		$this->setLayout('newemailinvitation');
		parent::display($tpl);
		}
		
		parent::display($tpl);

	}

}
?>