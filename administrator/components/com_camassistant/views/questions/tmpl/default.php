<?php
/**
 * @version		1.0.0 packages $
 * @package		packages
 * @copyright	Copyright Â© 2010 - All rights reserved.
 * @license		GNU/GPL
 * @author		
 * @author mail	nobody@nobody.com
 *
 *
 * @MVC architecture generated by MVC generator tool at http://www.alphaplug.com
 */

// no direct access
defined('_JEXEC') or die('Restricted access');
global $mainframe;
$items = $this->items;
?>
<script language="javascript" type="text/javascript">
function submitform(pressbutton){
var form = document.adminForm;
var chks = document.getElementsByName('cid[]');
var hasChecked = 0;
for (var i = 0; i < chks.length; i++)
{
	if (chks[i].checked)
	{
	var val = chks[i].value;
	hasChecked = hasChecked+1;
	}
}
   
if(pressbutton)
    {form.task.value=pressbutton;}
     
/*if(pressbutton == 'add'){
frm=document.adminForm;
//var task=frm.task.value;

var controller=frm.controller.value;
var view = frm.view.value;
form.submit();
}*/
		if(pressbutton=='edit' && hasChecked != 1)
	 {
	 alert("Please make single selection from the list to edit");
	 return false;
	 }
//alert(pressbutton);
	form.submit();
}

</script>
<form  method="post" name="adminForm" >
<div id="editcell">
	
	<table class="adminlist">
	<thead>
		<tr>
			<th width="5"><?php echo JText::_( 'NUM' ); ?></th>
			<th width="20">	<input type="checkbox" name="toggle" value="" onclick="checkAll(<?php echo $this->items; ?>);" /></th>
			<th class="title">Question Name</th>
			<th>Published</th>
					</tr>
	</thead>	
	
	<?php
	$k = 0;
	
	for ($i=0, $n=count( $this->items ); $i < $n; $i++)
	{


		$row = &$this->items[$i];
//echo'<pre>';print_r($row);
		$checked 	= JHTML::_('grid.checkedout',   $row, $i );
		
        $img 	= $row->published ? 'publish_x.png' : 'tick.png';
		$task 	= $row->published ? 'unblock' : 'block';
	
		$published 	= JHTML::_('grid.published', $row, $i);		
	//	print_r($row);
		?>
		<tr class="<?php echo "row$k"; ?>">
			<td>
				<?php echo $this->pagination->getRowOffset( $i ); ?>
			</td>
			<td>
				<?php echo $checked; ?>
			</td>
			<td align="center">
				<?php echo $row->question; ?>
			</td>
			<td align="center" >
			<?php echo $published; ?>
			</td>
		</tr>
		<?php
		$k = 1 - $k;
	}
	?>
	
<?php /*?>	<?php for($i=0; $i<count($this->items);$i++) {  ?>
	<tbody>
		<tr>
			<td align="center" ><?php echo $this->items[$i]->id;?> </td>
			<td align="center" ><input type="checkbox" name="toggle" value="" onclick="checkAll(<?php echo $this->items[$i]->id; ?>);" /> </td>
			<td align="center" ><?php echo $this->items[$i]->promocode;?> </td>
			<td align="center" ><?php echo $this->items[$i]->amount;?> </td>
		</tr>
	</tbody>
	<?php } ?><?php */?>
	<tfoot>
		<td colspan="20">
			<?php //echo $this->pagination->getListFooter(); ?>
		</td>
	</tfoot>
	</table>
</div>
<?php //print_r($_REQUEST); ?>
<input type="hidden" name="controller" value="questions" />
<input type="hidden" name="task" value="" />
<input type="hidden" name="boxchecked" value="0" />
<input type="hidden" name="filter_order" value="<?php echo $this->lists['order']; ?>" />
<input type="hidden" name="filter_order_Dir" value="<?php echo $this->lists['order_Dir']; ?>" />
<?php /*?><input type="hidden" name="controller" value="questions" />
<input type="hidden" name="task" value="addquestion" />
<input type="hidden" name="view" value="questions" />
<input type="hidden" name="boxchecked" value="0" /><?php */?>

</form>
